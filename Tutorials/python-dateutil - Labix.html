<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- saved from url=(0032)http://labix.org/python-dateutil -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="robots" content="index,nofollow">

<title>python-dateutil - Labix</title>
<script type="text/javascript" src="./python-dateutil - Labix_files/common.js.download"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="./python-dateutil - Labix_files/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="./python-dateutil - Labix_files/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="./python-dateutil - Labix_files/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="./python-dateutil - Labix_files/projection.css">

<!-- css only for MSIE browsers -->
<!--[if IE]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin//labixtheme/css/msie.css">
<![endif]-->

<link rel="alternate" title="Labix Blog" href="http://blog.labix.org/feed" type="application/rss+xml">

<link rel="Start" href="http://labix.org/MainPage">
<link rel="Alternate" title="Wiki Markup" href="http://labix.org/python-dateutil?action=raw">
<link rel="Alternate" media="print" title="Print View" href="http://labix.org/python-dateutil?action=print">
<link rel="Appendix" title="python-dateutil-1.0.tar.bz2" href="http://labix.org/python-dateutil?action=AttachFile&amp;do=view&amp;target=python-dateutil-1.0.tar.bz2">
<link rel="Appendix" title="python-dateutil-1.1.tar.bz2" href="http://labix.org/python-dateutil?action=AttachFile&amp;do=view&amp;target=python-dateutil-1.1.tar.bz2">
<link rel="Appendix" title="python-dateutil-1.2.tar.bz2" href="http://labix.org/python-dateutil?action=AttachFile&amp;do=view&amp;target=python-dateutil-1.2.tar.bz2">
<link rel="Appendix" title="python-dateutil-1.3.tar.bz2" href="http://labix.org/python-dateutil?action=AttachFile&amp;do=view&amp;target=python-dateutil-1.3.tar.bz2">
<link rel="Appendix" title="python-dateutil-1.4.1.tar.gz" href="http://labix.org/python-dateutil?action=AttachFile&amp;do=view&amp;target=python-dateutil-1.4.1.tar.gz">
<link rel="Appendix" title="python-dateutil-1.4.tar.bz2" href="http://labix.org/python-dateutil?action=AttachFile&amp;do=view&amp;target=python-dateutil-1.4.tar.bz2">
<link rel="Appendix" title="python-dateutil-1.5.tar.gz" href="http://labix.org/python-dateutil?action=AttachFile&amp;do=view&amp;target=python-dateutil-1.5.tar.gz">
<link rel="Appendix" title="python-dateutil-2.0.tar.gz" href="http://labix.org/python-dateutil?action=AttachFile&amp;do=view&amp;target=python-dateutil-2.0.tar.gz">
<link rel="Search" href="http://labix.org/FindPage">
<link rel="Index" href="http://labix.org/TitleIndex">
<link rel="Glossary" href="http://labix.org/WordIndex">
<link rel="Help" href="http://labix.org/HelpOnFormatting">
</head>

<body lang="en" dir="ltr">

<div id="header">

<form id="searchform" method="get" action="http://labix.org/python-dateutil">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput" style="display: none;">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20" onfocus="searchFocus(this)" onblur="searchBlur(this)" onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search" class="disabled">
<input id="titlesearch" name="titlesearch" type="submit" value="Titles" alt="Search Titles" disabled="">
<input id="fullsearch" name="fullsearch" type="submit" value="Text" alt="Search Full Text" disabled="">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<div id="logo"><a href="http://labix.org/MainPage">Labix</a></div>
</div>

<div id="sidebar">
<div class="sidepanel">
<h1>Navigation</h1>

<ul id="navibar">
<li class="wikilink"><a href="http://labix.org/MainPage">Index</a></li><li class="wikilink"><a href="http://labix.org/RecentChanges">RecentChanges</a></li><li class="wikilink"><a href="http://labix.org/FindPage">FindPage</a></li><li class="wikilink"><a href="http://labix.org/HelpContents">HelpContents</a></li><li class="current"><a href="http://labix.org/python-dateutil">python-dateutil</a></li>
</ul>

</div>

<div class="sidepanel">
<h1>User</h1>
<ul id="username"><li><a href="http://labix.org/python-dateutil?action=login" id="login" rel="nofollow">Login</a></li></ul>
</div>
</div>

<div id="page" lang="en" dir="ltr">

<div id="navigation">

</div>
<h1 id="title">python-dateutil</h1><div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><p class="line867"></p><div class="table-of-contents"><p class="table-of-contents-heading">Contents</p><ol><li><a href="http://labix.org/python-dateutil#head-42a94eedcff96da7fb1f77096b5a3b519c859ba9">Description</a></li><li><a href="http://labix.org/python-dateutil#head-b57873b28af6ab8b1c4ae48d522ce0c691abbdf2">News</a></li><li><a href="http://labix.org/python-dateutil#head-217af1251c3f91cb598ccf3240c6ab8abcb30151">Features</a></li><li><a href="http://labix.org/python-dateutil#head-8d03c6c25ead6f9cab0cde83e6f672b52480ab90">Quick example</a></li><li><a href="http://labix.org/python-dateutil#head-ca04a602311afe807d666327f29351de7ee42b7d">Source code and development</a></li><li><a href="http://labix.org/python-dateutil#head-2f49784d6b27bae60cde1cff6a535663cf87497b">Download</a></li><li><a href="http://labix.org/python-dateutil#head-8ec264be46f5eb8d8c6f2c4e371977c3ac861ca0">Author</a></li><li><a href="http://labix.org/python-dateutil#head-de6843b3f85a4d89902482be0a545d424674bc6f">Documentation</a><ol><li><a href="http://labix.org/python-dateutil#head-ba5ffd4df8111d1b83fc194b97ebecf837add454">relativedelta</a><ol><li><a href="http://labix.org/python-dateutil#head-6a1472b7c74e5b8bab7784f11214250d34e09aa5">relativedelta type</a></li><li><a href="http://labix.org/python-dateutil#head-72c4689ec5608067d118b9143cef6bdffb6dad4e">Behavior of operations</a></li><li><a href="http://labix.org/python-dateutil#head-1443e0f14ad5dff07efd465e080d1110920673d8">Examples</a></li></ol></li><li><a href="http://labix.org/python-dateutil#head-470fa22b2db72000d7abe698a5783a46b0731b57">rrule</a><ol><li><a href="http://labix.org/python-dateutil#head-cf004ee9a75592797e076752b2a889c10f445418">rrule type</a></li><li><a href="http://labix.org/python-dateutil#head-4a3df936af8af6f293d5af912eb5ff19199a3a31">rrule frequencies</a></li><li><a href="http://labix.org/python-dateutil#head-0a0c19852fd7a09fe80e71dfdb707c94357bd3b2">rrule methods</a></li><li><a href="http://labix.org/python-dateutil#head-a65103993a21b717f6702063f3717e6e75b4ba66">Notes</a></li><li><a href="http://labix.org/python-dateutil#head-1f7c5d0c956a96f26aa1de60b861f4d58180c1dd">rrule examples</a></li><li><a href="http://labix.org/python-dateutil#head-f83f4f0dd5fa533e0260bdcdd08df927594c32d2">rruleset type</a></li><li><a href="http://labix.org/python-dateutil#head-717a8f5a506d997f07db99aeb71b76ea991f9309">rruleset methods</a></li><li><a href="http://labix.org/python-dateutil#head-c8490514591aca4648153ac3fec3ac8378812e68">rruleset examples</a></li><li><a href="http://labix.org/python-dateutil#head-e987b581aebacf25c7276d3e9214385a12a091f2">rrulestr() function</a></li><li><a href="http://labix.org/python-dateutil#head-88ab2bc809145fcf75c074817911575616ce7caf">rrulestr() examples</a></li></ol></li><li><a href="http://labix.org/python-dateutil#head-a23e8ae0a661d77b89dfb3476f85b26f0b30349c">parser</a><ol><li><a href="http://labix.org/python-dateutil#head-c0e81a473b647dfa787dc11e8c69557ec2c3ecd2">parse() function</a></li><li><a href="http://labix.org/python-dateutil#head-b95ce2094d189a89f80f5ae52a05b4ab7b41af47">Format precedence</a></li><li><a href="http://labix.org/python-dateutil#head-19e5d3331806e55ec2ba1b9e39458784cc0a0004">Converting two digit years</a></li><li><a href="http://labix.org/python-dateutil#head-1443e0f14ad5dff07efd465e080d1110920673d8-2">Examples</a></li></ol></li><li><a href="http://labix.org/python-dateutil#head-8863c4fc47132b106fcb00b9153e3ac0ab486a0d">easter</a><ol><li><a href="http://labix.org/python-dateutil#head-13c68d26cb27abbe375f9b50e93733201d7bfcf9">easter() function</a></li></ol></li><li><a href="http://labix.org/python-dateutil#head-587bd3efc48f897f55c179abc520a34330ee0a62">tz</a><ol><li><a href="http://labix.org/python-dateutil#head-22a9091046e360a71feb49de042ce9c4caff71c6">tzutc type</a></li><li><a href="http://labix.org/python-dateutil#head-c3435483cc30bebd143f863aafd67fd8ee777bde">tzutc examples</a></li><li><a href="http://labix.org/python-dateutil#head-8bf499d888b70bc300c6c8820dc123326197c00f">tzoffset type</a></li><li><a href="http://labix.org/python-dateutil#head-58c6b63a94c52a232da0868e87d4df54c97ec301">tzoffset examples</a></li><li><a href="http://labix.org/python-dateutil#head-5fb12f4538c5a2fd83f87eea8e6c0ddd47f8b4b0">tzlocal type</a></li><li><a href="http://labix.org/python-dateutil#head-50221b5226c3ccb97daa06ea7d9abf0533ec0310">tzlocal examples</a></li><li><a href="http://labix.org/python-dateutil#head-d05e8740f6f1455afac35ec3d5d97e1d548baac4">tzstr type</a></li><li><a href="http://labix.org/python-dateutil#head-49eeb37a97530e6f94c4ef861ad0761b8165a2c2">tzstr examples</a></li><li><a href="http://labix.org/python-dateutil#head-7d8aeb285b0a41f7e86faa5740a8f3b5a5fc2bb5">tzrange type</a></li><li><a href="http://labix.org/python-dateutil#head-c224f7821e0117a34df2672112ea6ccee3073209">tzrange examples</a></li><li><a href="http://labix.org/python-dateutil#head-4e4386d98006f1e3cb9290a04bff7e01e584505b">tzfile type</a></li><li><a href="http://labix.org/python-dateutil#head-f1121b6d3ef2225b8dd55f61fd00c3773449e3cf">tzfile examples</a></li><li><a href="http://labix.org/python-dateutil#head-d6166b61093628c0ac32d1d7a784ec93e1b70593">tzical type</a></li><li><a href="http://labix.org/python-dateutil#head-75bc1957f9db6525f8243c1ad47f41e43a3b5209">tzical methods</a></li><li><a href="http://labix.org/python-dateutil#head-a5b145fe5fe00eb615554a9bfd05e97239fd5bde">tzical examples</a></li><li><a href="http://labix.org/python-dateutil#head-566bbb3e75e621ac00d2cb1b54abc09036b994f1">tzwin type</a></li><li><a href="http://labix.org/python-dateutil#head-34514e868024a22e23c143de58860a3414d40fd1">tzwin methods</a></li><li><a href="http://labix.org/python-dateutil#head-86ad81deb327e671eb87f522f16fa426faa27908">tzwin examples</a></li><li><a href="http://labix.org/python-dateutil#head-989c2319cb8755b6bf7991ab4e4bc3e32a6f019a">tzwinlocal type</a></li><li><a href="http://labix.org/python-dateutil#head-ca9ea503b79d48555861a6aadccee819efdcebf3">tzwinlocal methods</a></li><li><a href="http://labix.org/python-dateutil#head-393b26a3fb12ad903d6769decf94e11b7ec86298">tzwinlocal examples</a></li><li><a href="http://labix.org/python-dateutil#head-b79630fbbda87af6d6d121737510fd7ea5aeea97">gettz() function</a></li></ol></li><li><a href="http://labix.org/python-dateutil#head-7b64fa6ed6e02b68e9cb7c3d42d6fb7b4cb133e9">zoneinfo</a><ol><li><a href="http://labix.org/python-dateutil#head-b79630fbbda87af6d6d121737510fd7ea5aeea97-2">gettz() function</a></li></ol></li></ol></li></ol></div> <span class="anchor" id="line-5"></span><span class="anchor" id="line-6"></span><p class="line867">
</p><h2 id="head-42a94eedcff96da7fb1f77096b5a3b519c859ba9">Description</h2>
<span class="anchor" id="line-7"></span><p class="line862">The <strong>dateutil</strong> module provides powerful extensions to <span class="anchor" id="line-8"></span>the standard <strong>datetime</strong> module, available in Python 2.3+. <span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span></p><p class="line867">
</p><h2 id="head-b57873b28af6ab8b1c4ae48d522ce0c691abbdf2">News</h2>
<span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><ul><li>2011-03-24 <span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><ul><li>dateutil 2.0 is out!  <span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span></li><li class="gap">Ported to Python 3, by Brian Jones.  If you need dateutil for Python 2.X, <span class="anchor" id="line-17"></span>please continue using the 1.X series. <span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span></li><li class="gap">There's no such thing as a "PSF License".  This source code is now <span class="anchor" id="line-20"></span>made available under the Simplified BSD license.  See LICENSE for <span class="anchor" id="line-21"></span>details. <span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span></li></ul></li></ul><p class="line867">
</p><h2 id="head-217af1251c3f91cb598ccf3240c6ab8abcb30151">Features</h2>
<span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><ul><li>Computing of relative deltas (next month, next year, <span class="anchor" id="line-26"></span>next monday, last week of month, etc); <span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span></li><li class="gap">Computing of relative deltas between two given <span class="anchor" id="line-29"></span>date and/or datetime objects; <span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span></li><li class="gap">Computing of dates based on very flexible recurrence rules, <span class="anchor" id="line-32"></span>using a superset of the <span class="anchor" id="line-33"></span><p class="line891"><a class="ftp" href="ftp://ftp.rfc-editor.org/in-notes/rfc2445.txt">iCalendar</a> <span class="anchor" id="line-34"></span>specification. Parsing of RFC strings is supported as well. <span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span></p></li><li class="gap">Generic parsing of dates in almost any string format; <span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span></li><li class="gap">Timezone (tzinfo) implementations for tzfile(5) format <span class="anchor" id="line-39"></span>files (/etc/localtime, /usr/share/zoneinfo, etc), TZ <span class="anchor" id="line-40"></span>environment string (in all known formats), iCalendar <span class="anchor" id="line-41"></span>format files, given ranges (with help from relative deltas), <span class="anchor" id="line-42"></span>local machine timezone, fixed offset timezone, UTC timezone, <span class="anchor" id="line-43"></span>and Windows registry-based time zones. <span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span></li><li class="gap">Internal up-to-date world timezone information based on <span class="anchor" id="line-46"></span>Olson's database. <span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span></li><li class="gap">Computing of Easter Sunday dates for any given year, <span class="anchor" id="line-49"></span>using Western, Orthodox or Julian algorithms; <span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span></li><li class="gap">More than 400 test cases. <span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span></li></ul><p class="line867">
</p><h2 id="head-8d03c6c25ead6f9cab0cde83e6f672b52480ab90">Quick example</h2>
<span class="anchor" id="line-54"></span><p class="line874">Here's a snapshot, just to give an idea about the power of the <span class="anchor" id="line-55"></span>package. For more examples, look at the documentation below. <span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span></p><p class="line874">Suppose you want to know how much time is left, in <span class="anchor" id="line-58"></span>years/months/days/etc, before the next easter happening on a <span class="anchor" id="line-59"></span>year with a Friday 13th in August, and you want to get today's <span class="anchor" id="line-60"></span>date out of the "date" unix system command. Here is the code: <span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span></p><pre>from dateutil.relativedelta import *
from dateutil.easter import *
from dateutil.rrule import *
from dateutil.parser import *
from datetime import *
import commands
import os
now = parse(commands.getoutput("date"))
today = now.date()
year = rrule(YEARLY,bymonth=8,bymonthday=13,byweekday=FR)[0].year
rdelta = relativedelta(easter(year), today)
print "Today is:", today
print "Year with next Aug 13th on a Friday is:", year
print "How far is the Easter of that year:", rdelta
print "And the Easter of that year is:", today+rdelta</pre><span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><p class="line874">And here's the output: <span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span></p><pre>Today is: 2003-10-11
Year with next Aug 13th on a Friday is: 2004
How far is the Easter of that year: relativedelta(months=+6)
And the Easter of that year is: 2004-04-11</pre><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><p class="line867"><img alt="{i}" height="16" src="./python-dateutil - Labix_files/icon-info.png" title="{i}" width="16">  Being exactly 6 months ahead was <strong>really</strong> a coincidence <img alt=":)" height="15" src="./python-dateutil - Labix_files/smile.png" title=":)" width="15">  <span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span></p><p class="line867">
</p><h2 id="head-ca04a602311afe807d666327f29351de7ee42b7d">Source code and development</h2>
<span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><p class="line874">Development is currently maintained in Launchpad: <span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span></p><ul><li style="list-style-type:none"><p class="line891"><a class="https" href="https://launchpad.net/dateutil">https://launchpad.net/dateutil</a> <span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span></p></li></ul><p class="line867">
</p><h2 id="head-2f49784d6b27bae60cde1cff6a535663cf87497b">Download</h2>
<span class="anchor" id="line-96"></span><p class="line874">The following files are available. <span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span></p><ul><li><p class="line891"><a class="attachment" href="http://labix.org/download/python-dateutil/python-dateutil-2.0.tar.gz" title="attachment:python-dateutil-2.0.tar.gz">python-dateutil-2.0.tar.gz</a> (Python &gt;= 3.0) <span class="anchor" id="line-99"></span></p></li><li><p class="line891"><a class="attachment" href="http://labix.org/download/python-dateutil/python-dateutil-1.5.tar.gz" title="attachment:python-dateutil-1.5.tar.gz">python-dateutil-1.5.tar.gz</a> (Python &lt; 3.0) <span class="anchor" id="line-100"></span></p></li><li><p class="line891"><a class="attachment" href="http://labix.org/download/python-dateutil/python-dateutil-1.4.1.tar.gz" title="attachment:python-dateutil-1.4.1.tar.gz">python-dateutil-1.4.1.tar.gz</a> <span class="anchor" id="line-101"></span></p></li><li><p class="line891"><a class="attachment" href="http://labix.org/download/python-dateutil/python-dateutil-1.4.tar.bz2" title="attachment:python-dateutil-1.4.tar.bz2">python-dateutil-1.4.tar.bz2</a> <span class="anchor" id="line-102"></span></p></li><li><p class="line891"><a class="attachment" href="http://labix.org/download/python-dateutil/python-dateutil-1.3.tar.bz2" title="attachment:python-dateutil-1.3.tar.bz2">python-dateutil-1.3.tar.bz2</a> <span class="anchor" id="line-103"></span></p></li><li><p class="line891"><a class="attachment" href="http://labix.org/download/python-dateutil/python-dateutil-1.2.tar.bz2" title="attachment:python-dateutil-1.2.tar.bz2">python-dateutil-1.2.tar.bz2</a> <span class="anchor" id="line-104"></span></p></li><li><p class="line891"><a class="attachment" href="http://labix.org/download/python-dateutil/python-dateutil-1.1.tar.bz2" title="attachment:python-dateutil-1.1.tar.bz2">python-dateutil-1.1.tar.bz2</a> <span class="anchor" id="line-105"></span></p></li><li><p class="line891"><a class="attachment" href="http://labix.org/download/python-dateutil/python-dateutil-1.0.tar.bz2" title="attachment:python-dateutil-1.0.tar.bz2">python-dateutil-1.0.tar.bz2</a> <span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span></p></li></ul><p class="line867">
</p><h2 id="head-8ec264be46f5eb8d8c6f2c4e371977c3ac861ca0">Author</h2>
<span class="anchor" id="line-108"></span><p class="line862">The dateutil module was written by Gustavo Niemeyer &lt;<a class="mailto" href="mailto:gustavo@niemeyer.net">gustavo@niemeyer.net</a>&gt;. <span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span></p><p class="line867">
</p><h2 id="head-de6843b3f85a4d89902482be0a545d424674bc6f">Documentation</h2>
<span class="anchor" id="line-111"></span><p class="line874">The following modules are available. <span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span></p><p class="line867">
</p><h3 id="head-ba5ffd4df8111d1b83fc194b97ebecf837add454">relativedelta</h3>
<span class="anchor" id="line-114"></span><p class="line862">This module offers the <strong>relativedelta</strong> type, which is based  <span class="anchor" id="line-115"></span>on the specification of the excelent work done by M.-A. Lemburg in his <span class="anchor" id="line-116"></span><a class="http" href="http://www.egenix.com/files/python/mxDateTime.html">mxDateTime</a> <span class="anchor" id="line-117"></span>extension. However, notice that this type <strong>does not</strong> implement the <span class="anchor" id="line-118"></span>same algorithm as his work. Do not expect it to behave like <span class="anchor" id="line-119"></span><tt>mxDateTime</tt>'s counterpart. <span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span></p><p class="line867">
</p><h4 id="head-6a1472b7c74e5b8bab7784f11214250d34e09aa5">relativedelta type</h4>
<span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><p class="line874">There's two different ways to build a relativedelta instance. The <span class="anchor" id="line-124"></span>first one is passing it two <tt>date</tt>/<tt>datetime</tt> instances: <span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span></p><pre>relativedelta(datetime1, datetime2)</pre><span class="anchor" id="line-128"></span><span class="anchor" id="line-129"></span><p class="line862">This will build the relative difference between <tt>datetime1</tt> and <span class="anchor" id="line-130"></span><tt>datetime2</tt>, so that the following constraint is always true: <span class="anchor" id="line-131"></span><span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span></p><pre>datetime2+relativedelta(datetime1, datetime2) == datetime1</pre><span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span><p class="line862">Notice that instead of <tt>datetime</tt> instances, you may use <span class="anchor" id="line-136"></span><tt>date</tt> instances, or a mix of both. <span class="anchor" id="line-137"></span><span class="anchor" id="line-138"></span></p><p class="line874">And the other way is to use any of the following keyword arguments: <span class="anchor" id="line-139"></span><span class="anchor" id="line-140"></span></p><dl><dt>year, month, day, hour, minute, second, microsecond</dt><dd><span class="anchor" id="line-141"></span>Absolute information. <span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span></dd><dt>years, months, weeks, days, hours, minutes, seconds, microseconds</dt><dd><span class="anchor" id="line-144"></span>Relative information, may be negative. <span class="anchor" id="line-145"></span><span class="anchor" id="line-146"></span></dd><dt>weekday</dt><dd><span class="anchor" id="line-147"></span><p class="line862">One of the weekday instances (<tt>MO</tt>, <tt>TU</tt>, etc). These <span class="anchor" id="line-148"></span>instances may receive a parameter <tt>n</tt>, specifying the <tt>n</tt>th <span class="anchor" id="line-149"></span>weekday, which could be positive or negative (like <tt>MO(+2)</tt> or <span class="anchor" id="line-150"></span><tt>MO(-3)</tt>. Not specifying it is the same as specifying <tt>+1</tt>. <span class="anchor" id="line-151"></span>You can also use an integer, where <tt>0=MO</tt>. Notice that, <span class="anchor" id="line-152"></span>for example, if the calculated date is already Monday, using <span class="anchor" id="line-153"></span><tt>MO</tt> or <tt>MO(+1)</tt> (which is the same thing in this context), <span class="anchor" id="line-154"></span>won't change the day. <span class="anchor" id="line-155"></span><span class="anchor" id="line-156"></span></p></dd><dt>leapdays</dt><dd><span class="anchor" id="line-157"></span>Will add given days to the date found, but only if the computed <span class="anchor" id="line-158"></span>year is a leap year and the computed date is post 28 of february. <span class="anchor" id="line-159"></span><span class="anchor" id="line-160"></span></dd><dt>yearday, nlyearday</dt><dd><span class="anchor" id="line-161"></span>Set the yearday or the non-leap year day (jump leap days). <span class="anchor" id="line-162"></span><p class="line862">These are converted to <tt>day</tt>/<tt>month</tt>/<tt>leapdays</tt> <span class="anchor" id="line-163"></span>information. <span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span></p></dd></dl><p class="line867">
</p><h4 id="head-72c4689ec5608067d118b9143cef6bdffb6dad4e">Behavior of operations</h4>
<span class="anchor" id="line-166"></span><p class="line874">If you're curious about how exactly the relative delta will act <span class="anchor" id="line-167"></span>on operations, here is a description of its behavior. <span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span></p><ol type="1"><li><p class="line862">Calculate the absolute year, using the <tt>year</tt> argument, or the original datetime year, if the argument is not present. <span class="anchor" id="line-170"></span></p></li><li><p class="line862">Add the relative <tt>years</tt> argument to the absolute year. <span class="anchor" id="line-171"></span></p></li><li><p class="line862">Do steps 1 and 2 for <tt>month</tt>/<tt>months</tt>. <span class="anchor" id="line-172"></span></p></li><li><p class="line862">Calculate the absolute day, using the <tt>day</tt> argument, or the original datetime day, if the argument is not present. Then, subtract from the day until it fits in the year and month found after their operations. <span class="anchor" id="line-173"></span></p></li><li><p class="line862">Add the relative <tt>days</tt> argument to the absolute day. Notice that the <tt>weeks</tt> argument is multiplied by 7 and added to <tt>days</tt>. <span class="anchor" id="line-174"></span></p></li><li><p class="line862">If <tt>leapdays</tt> is present, the computed year is a leap year, and the computed month is after february, remove one day from the found date. <span class="anchor" id="line-175"></span></p></li><li><p class="line862">Do steps 1 and 2 for <tt>hour</tt>/<tt>hours</tt>, <tt>minute</tt>/<tt>minutes</tt>, <tt>second</tt>/<tt>seconds</tt>, <tt>microsecond</tt>/<tt>microseconds</tt>. <span class="anchor" id="line-176"></span></p></li><li><p class="line862">If the <tt>weekday</tt> argument is present, calculate the <tt>n</tt>th occurrence of the given weekday. <span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span></p></li></ol><p class="line867">
</p><h4 id="head-1443e0f14ad5dff07efd465e080d1110920673d8">Examples</h4>
<span class="anchor" id="line-179"></span><span class="anchor" id="line-180"></span><p class="line874">Let's begin our trip. <span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span><span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span></p><pre>&gt;&gt;&gt; from datetime import *; from dateutil.relativedelta import *
&gt;&gt;&gt; import calendar</pre><span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span><p class="line874">Store some values. <span class="anchor" id="line-187"></span><span class="anchor" id="line-188"></span><span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span><span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span></p><pre>&gt;&gt;&gt; NOW = datetime.now()
&gt;&gt;&gt; TODAY = date.today()
&gt;&gt;&gt; NOW
datetime.datetime(2003, 9, 17, 20, 54, 47, 282310)
&gt;&gt;&gt; TODAY
datetime.date(2003, 9, 17)</pre><span class="anchor" id="line-195"></span><span class="anchor" id="line-196"></span><p class="line874">Next month. <span class="anchor" id="line-197"></span><span class="anchor" id="line-198"></span><span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span></p><pre>&gt;&gt;&gt; NOW+relativedelta(months=+1)
datetime.datetime(2003, 10, 17, 20, 54, 47, 282310)</pre><span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span><p class="line874">Next month, plus one week. <span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span><span class="anchor" id="line-205"></span><span class="anchor" id="line-206"></span></p><pre>&gt;&gt;&gt; NOW+relativedelta(months=+1, weeks=+1)
datetime.datetime(2003, 10, 24, 20, 54, 47, 282310)</pre><span class="anchor" id="line-207"></span><span class="anchor" id="line-208"></span><p class="line874">Next month, plus one week, at 10am. <span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span><span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span></p><pre>&gt;&gt;&gt; TODAY+relativedelta(months=+1, weeks=+1, hour=10)
datetime.datetime(2003, 10, 24, 10, 0)</pre><span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span><p class="line874">Let's try the other way around. Notice that the <span class="anchor" id="line-215"></span>hour setting we get in the relativedelta is relative, <span class="anchor" id="line-216"></span>since it's a difference, and the weeks parameter <span class="anchor" id="line-217"></span>has gone. <span class="anchor" id="line-218"></span><span class="anchor" id="line-219"></span><span class="anchor" id="line-220"></span><span class="anchor" id="line-221"></span></p><pre>&gt;&gt;&gt; relativedelta(datetime(2003, 10, 24, 10, 0), TODAY)
relativedelta(months=+1, days=+7, hours=+10)</pre><span class="anchor" id="line-222"></span><span class="anchor" id="line-223"></span><p class="line874">One month before one year. <span class="anchor" id="line-224"></span><span class="anchor" id="line-225"></span><span class="anchor" id="line-226"></span><span class="anchor" id="line-227"></span></p><pre>&gt;&gt;&gt; NOW+relativedelta(years=+1, months=-1)
datetime.datetime(2004, 8, 17, 20, 54, 47, 282310)</pre><span class="anchor" id="line-228"></span><span class="anchor" id="line-229"></span><p class="line874">How does it handle months with different numbers of days? <span class="anchor" id="line-230"></span>Notice that adding one month will never cross the month <span class="anchor" id="line-231"></span>boundary. <span class="anchor" id="line-232"></span><span class="anchor" id="line-233"></span><span class="anchor" id="line-234"></span><span class="anchor" id="line-235"></span><span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><span class="anchor" id="line-238"></span><span class="anchor" id="line-239"></span></p><pre>&gt;&gt;&gt; date(2003,1,27)+relativedelta(months=+1)
datetime.date(2003, 2, 27)
&gt;&gt;&gt; date(2003,1,31)+relativedelta(months=+1)
datetime.date(2003, 2, 28)
&gt;&gt;&gt; date(2003,1,31)+relativedelta(months=+2)
datetime.date(2003, 3, 31)</pre><span class="anchor" id="line-240"></span><span class="anchor" id="line-241"></span><p class="line874">The logic for years is the same, even on leap years. <span class="anchor" id="line-242"></span><span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span><span class="anchor" id="line-245"></span><span class="anchor" id="line-246"></span><span class="anchor" id="line-247"></span><span class="anchor" id="line-248"></span><span class="anchor" id="line-249"></span><span class="anchor" id="line-250"></span><span class="anchor" id="line-251"></span><span class="anchor" id="line-252"></span><span class="anchor" id="line-253"></span><span class="anchor" id="line-254"></span><span class="anchor" id="line-255"></span><span class="anchor" id="line-256"></span><span class="anchor" id="line-257"></span></p><pre>&gt;&gt;&gt; date(2000,2,28)+relativedelta(years=+1)
datetime.date(2001, 2, 28)
&gt;&gt;&gt; date(2000,2,29)+relativedelta(years=+1)
datetime.date(2001, 2, 28)

&gt;&gt;&gt; date(1999,2,28)+relativedelta(years=+1)
datetime.date(2000, 2, 28)
&gt;&gt;&gt; date(1999,3,1)+relativedelta(years=+1)
datetime.date(2000, 3, 1)

&gt;&gt;&gt; date(2001,2,28)+relativedelta(years=-1)
datetime.date(2000, 2, 28)
&gt;&gt;&gt; date(2001,3,1)+relativedelta(years=-1)
datetime.date(2000, 3, 1)</pre><span class="anchor" id="line-258"></span><span class="anchor" id="line-259"></span><p class="line874">Next friday. <span class="anchor" id="line-260"></span><span class="anchor" id="line-261"></span><span class="anchor" id="line-262"></span><span class="anchor" id="line-263"></span><span class="anchor" id="line-264"></span><span class="anchor" id="line-265"></span><span class="anchor" id="line-266"></span></p><pre>&gt;&gt;&gt; TODAY+relativedelta(weekday=FR)
datetime.date(2003, 9, 19)

&gt;&gt;&gt; TODAY+relativedelta(weekday=calendar.FRIDAY)
datetime.date(2003, 9, 19)</pre><span class="anchor" id="line-267"></span><span class="anchor" id="line-268"></span><p class="line874">Last friday in this month. <span class="anchor" id="line-269"></span><span class="anchor" id="line-270"></span><span class="anchor" id="line-271"></span><span class="anchor" id="line-272"></span></p><pre>&gt;&gt;&gt; TODAY+relativedelta(day=31, weekday=FR(-1))
datetime.date(2003, 9, 26)</pre><span class="anchor" id="line-273"></span><span class="anchor" id="line-274"></span><p class="line874">Next wednesday (it's today!). <span class="anchor" id="line-275"></span><span class="anchor" id="line-276"></span><span class="anchor" id="line-277"></span><span class="anchor" id="line-278"></span></p><pre>&gt;&gt;&gt; TODAY+relativedelta(weekday=WE(+1))
datetime.date(2003, 9, 17)</pre><span class="anchor" id="line-279"></span><span class="anchor" id="line-280"></span><p class="line874">Next wednesday, but not today. <span class="anchor" id="line-281"></span><span class="anchor" id="line-282"></span><span class="anchor" id="line-283"></span><span class="anchor" id="line-284"></span></p><pre>&gt;&gt;&gt; TODAY+relativedelta(days=+1, weekday=WE(+1))
datetime.date(2003, 9, 24)</pre><span class="anchor" id="line-285"></span><span class="anchor" id="line-286"></span><p class="line874">Following <span class="anchor" id="line-287"></span><a class="http" href="http://www.cl.cam.ac.uk/~mgk25/iso-time.html">ISO year week number notation</a> <span class="anchor" id="line-288"></span>find the first day of the 15th week of 1997. <span class="anchor" id="line-289"></span><span class="anchor" id="line-290"></span><span class="anchor" id="line-291"></span><span class="anchor" id="line-292"></span></p><pre>&gt;&gt;&gt; datetime(1997,1,1)+relativedelta(day=4, weekday=MO(-1), weeks=+14)
datetime.datetime(1997, 4, 7, 0, 0)</pre><span class="anchor" id="line-293"></span><span class="anchor" id="line-294"></span><p class="line874">How long ago has the millennium changed? <span class="anchor" id="line-295"></span><span class="anchor" id="line-296"></span><span class="anchor" id="line-297"></span><span class="anchor" id="line-298"></span><span class="anchor" id="line-299"></span></p><pre>&gt;&gt;&gt; relativedelta(NOW, date(2001,1,1))
relativedelta(years=+2, months=+8, days=+16,
              hours=+20, minutes=+54, seconds=+47, microseconds=+282310)</pre><span class="anchor" id="line-300"></span><span class="anchor" id="line-301"></span><p class="line874">How old is John? <span class="anchor" id="line-302"></span><span class="anchor" id="line-303"></span><span class="anchor" id="line-304"></span><span class="anchor" id="line-305"></span><span class="anchor" id="line-306"></span><span class="anchor" id="line-307"></span></p><pre>&gt;&gt;&gt; johnbirthday = datetime(1978, 4, 5, 12, 0)
&gt;&gt;&gt; relativedelta(NOW, johnbirthday)
relativedelta(years=+25, months=+5, days=+12,
              hours=+8, minutes=+54, seconds=+47, microseconds=+282310)</pre><span class="anchor" id="line-308"></span><span class="anchor" id="line-309"></span><p class="line874">It works with dates too. <span class="anchor" id="line-310"></span><span class="anchor" id="line-311"></span><span class="anchor" id="line-312"></span><span class="anchor" id="line-313"></span></p><pre>&gt;&gt;&gt; relativedelta(TODAY, johnbirthday)
relativedelta(years=+25, months=+5, days=+11, hours=+12)</pre><span class="anchor" id="line-314"></span><span class="anchor" id="line-315"></span><p class="line874">Obtain today's date using the yearday: <span class="anchor" id="line-316"></span><span class="anchor" id="line-317"></span><span class="anchor" id="line-318"></span><span class="anchor" id="line-319"></span></p><pre>&gt;&gt;&gt; date(2003, 1, 1)+relativedelta(yearday=260)
datetime.date(2003, 9, 17)</pre><span class="anchor" id="line-320"></span><span class="anchor" id="line-321"></span><p class="line874">We can use today's date, since yearday should be absolute <span class="anchor" id="line-322"></span>in the given year: <span class="anchor" id="line-323"></span><span class="anchor" id="line-324"></span><span class="anchor" id="line-325"></span><span class="anchor" id="line-326"></span></p><pre>&gt;&gt;&gt; TODAY+relativedelta(yearday=260)
datetime.date(2003, 9, 17)</pre><span class="anchor" id="line-327"></span><span class="anchor" id="line-328"></span><p class="line874">Last year it should be in the same day: <span class="anchor" id="line-329"></span><span class="anchor" id="line-330"></span><span class="anchor" id="line-331"></span><span class="anchor" id="line-332"></span></p><pre>&gt;&gt;&gt; date(2002, 1, 1)+relativedelta(yearday=260)
datetime.date(2002, 9, 17)</pre><span class="anchor" id="line-333"></span><span class="anchor" id="line-334"></span><p class="line874">But not in a leap year: <span class="anchor" id="line-335"></span><span class="anchor" id="line-336"></span><span class="anchor" id="line-337"></span><span class="anchor" id="line-338"></span></p><pre>&gt;&gt;&gt; date(2000, 1, 1)+relativedelta(yearday=260)
datetime.date(2000, 9, 16)</pre><span class="anchor" id="line-339"></span><span class="anchor" id="line-340"></span><p class="line874">We can use the non-leap year day to ignore this: <span class="anchor" id="line-341"></span><span class="anchor" id="line-342"></span><span class="anchor" id="line-343"></span><span class="anchor" id="line-344"></span></p><pre>&gt;&gt;&gt; date(2000, 1, 1)+relativedelta(nlyearday=260)
datetime.date(2000, 9, 17)</pre><span class="anchor" id="line-345"></span><span class="anchor" id="line-346"></span><span class="anchor" id="line-347"></span><p class="line867">
</p><h3 id="head-470fa22b2db72000d7abe698a5783a46b0731b57">rrule</h3>
<span class="anchor" id="line-348"></span><span class="anchor" id="line-349"></span><p class="line874">The rrule module offers a small, complete, and very fast, implementation <span class="anchor" id="line-350"></span>of the recurrence rules documented in the  <span class="anchor" id="line-351"></span><a class="http" href="http://www.ietf.org/rfc/rfc2445.txt">iCalendar RFC</a>, including <span class="anchor" id="line-352"></span>support for caching of results. <span class="anchor" id="line-353"></span><span class="anchor" id="line-354"></span><span class="anchor" id="line-355"></span></p><p class="line867">
</p><h4 id="head-cf004ee9a75592797e076752b2a889c10f445418">rrule type</h4>
<span class="anchor" id="line-356"></span><span class="anchor" id="line-357"></span><p class="line874">That's the base of the rrule operation. It accepts all the keywords <span class="anchor" id="line-358"></span>defined in the RFC as its constructor parameters (except <tt>byday</tt>, <span class="anchor" id="line-359"></span>which was renamed to <tt>byweekday</tt>) and more. The constructor <span class="anchor" id="line-360"></span>prototype is: <span class="anchor" id="line-361"></span><span class="anchor" id="line-362"></span><span class="anchor" id="line-363"></span></p><pre>rrule(freq)</pre><span class="anchor" id="line-364"></span><span class="anchor" id="line-365"></span><p class="line862">Where <tt>freq</tt> must be one of <tt>YEARLY</tt>, <tt>MONTHLY</tt>, <span class="anchor" id="line-366"></span><tt>WEEKLY</tt>, <tt>DAILY</tt>, <tt>HOURLY</tt>, <tt>MINUTELY</tt>, <span class="anchor" id="line-367"></span>or <tt>SECONDLY</tt>. <span class="anchor" id="line-368"></span><span class="anchor" id="line-369"></span></p><p class="line874">Additionally, it supports the following keyword arguments: <span class="anchor" id="line-370"></span><span class="anchor" id="line-371"></span></p><dl><dt>cache</dt><dd><span class="anchor" id="line-372"></span>If given, it must be a boolean value specifying to enable <span class="anchor" id="line-373"></span>or disable caching of results. If you will use the same <span class="anchor" id="line-374"></span><p class="line891"><tt>rrule</tt> instance multiple times, enabling caching will <span class="anchor" id="line-375"></span>improve the performance considerably. <span class="anchor" id="line-376"></span><span class="anchor" id="line-377"></span></p></dd><dt>dtstart</dt><dd><span class="anchor" id="line-378"></span>The recurrence start. Besides being the base for the <span class="anchor" id="line-379"></span>recurrence, missing parameters in the final recurrence <span class="anchor" id="line-380"></span>instances will also be extracted from this date. If not <span class="anchor" id="line-381"></span><p class="line862">given, <tt>datetime.now()</tt> will be used instead. <span class="anchor" id="line-382"></span><span class="anchor" id="line-383"></span></p></dd><dt>interval</dt><dd><span class="anchor" id="line-384"></span><p class="line862">The interval between each <tt>freq</tt> iteration. For example, <span class="anchor" id="line-385"></span>when using <tt>YEARLY</tt>, an interval of <tt>2</tt> means <span class="anchor" id="line-386"></span>once every two years, but with <tt>HOURLY</tt>, it means <span class="anchor" id="line-387"></span>once every two hours. The default interval is <tt>1</tt>. <span class="anchor" id="line-388"></span><span class="anchor" id="line-389"></span></p></dd><dt>wkst</dt><dd><span class="anchor" id="line-390"></span><p class="line862">The week start day. Must be one of the <tt>MO</tt>, <tt>TU</tt>, <span class="anchor" id="line-391"></span><tt>WE</tt> constants, or an integer, specifying the first day <span class="anchor" id="line-392"></span>of the week. This will affect recurrences based on weekly <span class="anchor" id="line-393"></span>periods. The default week start is got from <span class="anchor" id="line-394"></span><tt>calendar.firstweekday()</tt>, and may be modified by <span class="anchor" id="line-395"></span><tt>calendar.setfirstweekday()</tt>. <span class="anchor" id="line-396"></span><span class="anchor" id="line-397"></span></p></dd><dt>count</dt><dd><span class="anchor" id="line-398"></span>How many occurrences will be generated. <span class="anchor" id="line-399"></span><span class="anchor" id="line-400"></span></dd><dt>until</dt><dd><span class="anchor" id="line-401"></span><p class="line862">If given, this must be a <tt>datetime</tt> instance, that will <span class="anchor" id="line-402"></span>specify the limit of the recurrence. If a recurrence instance <span class="anchor" id="line-403"></span>happens to be the same as the <tt>datetime</tt> instance given <span class="anchor" id="line-404"></span>in the <tt>until</tt> keyword, this will be the last occurrence. <span class="anchor" id="line-405"></span><span class="anchor" id="line-406"></span></p></dd><dt>bysetpos</dt><dd><span class="anchor" id="line-407"></span>If given, it must be either an integer, or a sequence of <span class="anchor" id="line-408"></span>integers, positive or negative. Each given integer will <span class="anchor" id="line-409"></span>specify an occurrence number, corresponding to the nth <span class="anchor" id="line-410"></span>occurrence of the rule inside the frequency period. For <span class="anchor" id="line-411"></span><p class="line862">example, a <tt>bysetpos</tt> of <tt>-1</tt> if combined with a <span class="anchor" id="line-412"></span><tt>MONTHLY</tt> frequency, and a <tt>byweekday</tt> of <span class="anchor" id="line-413"></span><tt>(MO,&nbsp;TU,&nbsp;WE,&nbsp;TH,&nbsp;FR)</tt>, will result in the last work <span class="anchor" id="line-414"></span>day of every month. <span class="anchor" id="line-415"></span><span class="anchor" id="line-416"></span></p></dd><dt>bymonth</dt><dd><span class="anchor" id="line-417"></span>If given, it must be either an integer, or a sequence of <span class="anchor" id="line-418"></span>integers, meaning the months to apply the recurrence to. <span class="anchor" id="line-419"></span><span class="anchor" id="line-420"></span></dd><dt>bymonthday</dt><dd><span class="anchor" id="line-421"></span>If given, it must be either an integer, or a sequence of <span class="anchor" id="line-422"></span>integers, meaning the month days to apply the recurrence to. <span class="anchor" id="line-423"></span><span class="anchor" id="line-424"></span></dd><dt>byyearday</dt><dd><span class="anchor" id="line-425"></span>If given, it must be either an integer, or a sequence of <span class="anchor" id="line-426"></span>integers, meaning the year days to apply the recurrence to. <span class="anchor" id="line-427"></span><span class="anchor" id="line-428"></span></dd><dt>byweekno</dt><dd><span class="anchor" id="line-429"></span>If given, it must be either an integer, or a sequence of <span class="anchor" id="line-430"></span>integers, meaning the week numbers to apply the recurrence <span class="anchor" id="line-431"></span>to. Week numbers have the meaning described in ISO8601, <span class="anchor" id="line-432"></span>that is, the first week of the year is that containing at <span class="anchor" id="line-433"></span>least four days of the new year. <span class="anchor" id="line-434"></span><span class="anchor" id="line-435"></span></dd><dt>byweekday</dt><dd><span class="anchor" id="line-436"></span><p class="line862">If given, it must be either an integer (<tt>0&nbsp;==&nbsp;MO</tt>), a <span class="anchor" id="line-437"></span>sequence of integers, one of the weekday constants <span class="anchor" id="line-438"></span>(<tt>MO</tt>, <tt>TU</tt>, etc), or a sequence of these constants. <span class="anchor" id="line-439"></span>When given, these variables will define the weekdays where <span class="anchor" id="line-440"></span>the recurrence will be applied. It's also possible to use <span class="anchor" id="line-441"></span>an argument <tt>n</tt> for the weekday instances, which will <span class="anchor" id="line-442"></span>mean the <tt>n</tt><em>th</em> occurrence of this weekday in the <span class="anchor" id="line-443"></span>period. For example, with <tt>MONTHLY</tt>, or with <span class="anchor" id="line-444"></span><tt>YEARLY</tt> and <tt>BYMONTH</tt>, using <tt>FR(+1)</tt> <span class="anchor" id="line-445"></span>in <tt>byweekday</tt> will specify the first friday of the <span class="anchor" id="line-446"></span>month where the recurrence happens. Notice that in the RFC <span class="anchor" id="line-447"></span>documentation, this is specified as <tt>BYDAY</tt>, but was <span class="anchor" id="line-448"></span>renamed to avoid the ambiguity of that keyword. <span class="anchor" id="line-449"></span><span class="anchor" id="line-450"></span></p></dd><dt>byhour</dt><dd><span class="anchor" id="line-451"></span>If given, it must be either an integer, or a sequence of <span class="anchor" id="line-452"></span>integers, meaning the hours to apply the recurrence to. <span class="anchor" id="line-453"></span><span class="anchor" id="line-454"></span></dd><dt>byminute</dt><dd><span class="anchor" id="line-455"></span>If given, it must be either an integer, or a sequence of <span class="anchor" id="line-456"></span>integers, meaning the minutes to apply the recurrence to. <span class="anchor" id="line-457"></span><span class="anchor" id="line-458"></span></dd><dt>bysecond</dt><dd><span class="anchor" id="line-459"></span>If given, it must be either an integer, or a sequence of <span class="anchor" id="line-460"></span>integers, meaning the seconds to apply the recurrence to. <span class="anchor" id="line-461"></span><span class="anchor" id="line-462"></span></dd><dt>byeaster</dt><dd><span class="anchor" id="line-463"></span>If given, it must be either an integer, or a sequence of <span class="anchor" id="line-464"></span>integers, positive or negative. Each integer will define <span class="anchor" id="line-465"></span>an offset from the Easter Sunday. Passing the offset <span class="anchor" id="line-466"></span><p class="line891"><tt>0</tt> to <tt>byeaster</tt> will yield the Easter Sunday <span class="anchor" id="line-467"></span>itself. This is an extension to the RFC specification. <span class="anchor" id="line-468"></span><span class="anchor" id="line-469"></span><span class="anchor" id="line-470"></span></p></dd></dl><p class="line867">
</p><h4 id="head-4a3df936af8af6f293d5af912eb5ff19199a3a31">rrule frequencies</h4>
<span class="anchor" id="line-471"></span><span class="anchor" id="line-472"></span><p class="line874">The rrule frequency denotes the period on which the rule is evaluated. <span class="anchor" id="line-473"></span>Multiple dates may match in a single period, and none may match as well, <span class="anchor" id="line-474"></span>depending on the rule itself.  In other words, the rule won't be <span class="anchor" id="line-475"></span><em>adapted</em> to ensure that a match necessarily happens inside the given <span class="anchor" id="line-476"></span>frequency, and if multiple entries match the rule they will be returned. <span class="anchor" id="line-477"></span><span class="anchor" id="line-478"></span></p><p class="line874">Note, for instance, the two rules: <span class="anchor" id="line-479"></span><span class="anchor" id="line-480"></span></p><p class="line867"><span class="anchor" id="line-481"></span><span class="anchor" id="line-482"></span><span class="anchor" id="line-483"></span><span class="anchor" id="line-484"></span><span class="anchor" id="line-485"></span><span class="anchor" id="line-486"></span><span class="anchor" id="line-487"></span><span class="anchor" id="line-488"></span><span class="anchor" id="line-489"></span><span class="anchor" id="line-490"></span><span class="anchor" id="line-491"></span><span class="anchor" id="line-492"></span><span class="anchor" id="line-493"></span></p><pre>&gt;&gt;&gt; list(rrule(DAILY, count=3, byweekday=(TU,TH),
...            dtstart=datetime(2007,1,1)))
[datetime.datetime(2007, 1, 2, 0, 0),
 datetime.datetime(2007, 1, 4, 0, 0),
 datetime.datetime(2007, 1, 9, 0, 0)]

&gt;&gt;&gt; list(rrule(WEEKLY, count=3, byweekday=(TU,TH),
...            dtstart=datetime(2007,1,1)))
[datetime.datetime(2007, 1, 2, 0, 0),
 datetime.datetime(2007, 1, 4, 0, 0),
 datetime.datetime(2007, 1, 9, 0, 0)]
&gt;&gt; </pre><span class="anchor" id="line-494"></span><span class="anchor" id="line-495"></span><p class="line874">In this case, they have the same meaning.  The only difference is <span class="anchor" id="line-496"></span>the way that they were generated.  Now, notice the change if we <span class="anchor" id="line-497"></span>include a <tt>bysetpos</tt> option. <span class="anchor" id="line-498"></span><span class="anchor" id="line-499"></span></p><p class="line867"><span class="anchor" id="line-500"></span><span class="anchor" id="line-501"></span><span class="anchor" id="line-502"></span><span class="anchor" id="line-503"></span><span class="anchor" id="line-504"></span><span class="anchor" id="line-505"></span><span class="anchor" id="line-506"></span><span class="anchor" id="line-507"></span><span class="anchor" id="line-508"></span><span class="anchor" id="line-509"></span><span class="anchor" id="line-510"></span><span class="anchor" id="line-511"></span><span class="anchor" id="line-512"></span></p><pre>&gt;&gt;&gt; list(rrule(DAILY, count=3, byweekday=(TU,TH), bysetpos=1,
...            dtstart=datetime(2007,1,1)))
[datetime.datetime(2007, 1, 2, 0, 0),
 datetime.datetime(2007, 1, 4, 0, 0),
 datetime.datetime(2007, 1, 9, 0, 0)]


&gt;&gt;&gt; list(rrule(WEEKLY, count=3, byweekday=(TU,TH), bysetpos=1,
...            dtstart=datetime(2007,1,1)))
[datetime.datetime(2007, 1, 2, 0, 0),
 datetime.datetime(2007, 1, 9, 0, 0),
 datetime.datetime(2007, 1, 16, 0, 0)]</pre><span class="anchor" id="line-513"></span><span class="anchor" id="line-514"></span><p class="line862">In both cases, only the first matching entry <em>inside the given period</em> <span class="anchor" id="line-515"></span>was considered a match. <span class="anchor" id="line-516"></span><span class="anchor" id="line-517"></span></p><p class="line874">It is also important to note that specifying only the frequency will <span class="anchor" id="line-518"></span>result in the relevant <tt>byXXX</tt> rule parts being retrieved from the <span class="anchor" id="line-519"></span>dtstart value.  For instance: <span class="anchor" id="line-520"></span><span class="anchor" id="line-521"></span></p><p class="line867"><span class="anchor" id="line-522"></span><span class="anchor" id="line-523"></span></p><pre>rrule(MONTHLY, dtstart=datetime(2007,1,2)) </pre><span class="anchor" id="line-524"></span><span class="anchor" id="line-525"></span><p class="line862">This would assume <tt>bymonthday=2</tt>, <tt>byhour=0</tt>, <tt>byminute=0</tt>, and <span class="anchor" id="line-526"></span>so would generate date values for Jan 2nd, Feb 2nd, Mar 2nd, and so on. If, <span class="anchor" id="line-527"></span>on the other hand, the start date is on Jan 31st: <span class="anchor" id="line-528"></span><span class="anchor" id="line-529"></span></p><p class="line867"><span class="anchor" id="line-530"></span><span class="anchor" id="line-531"></span></p><pre>rrule(MONTHLY, dtstart=datetime(2007,1,31))  </pre><span class="anchor" id="line-532"></span><span class="anchor" id="line-533"></span><p class="line862">This would <em>only</em> generate values for 31st Jan, 31st Mar, 31st May, etc. <span class="anchor" id="line-534"></span>Any month with less than 31 days is <em>ignored</em>. <span class="anchor" id="line-535"></span><span class="anchor" id="line-536"></span></p><p class="line874">To generate a rrule for the use case of "a date on the specified day of <span class="anchor" id="line-537"></span>the month, unless it is beyond the end of month, in which case it will <span class="anchor" id="line-538"></span>be the last day of the month" use the following: <span class="anchor" id="line-539"></span><span class="anchor" id="line-540"></span></p><p class="line867"><span class="anchor" id="line-541"></span><span class="anchor" id="line-542"></span></p><pre>rrule(MONTHLY, bymonthday=(some_day, -1), bysetpos=1)</pre><span class="anchor" id="line-543"></span><span class="anchor" id="line-544"></span><p class="line874">This will generate a value for every calendar month regardless of the <span class="anchor" id="line-545"></span>day of the month it is started from. <span class="anchor" id="line-546"></span><span class="anchor" id="line-547"></span></p><p class="line862">For more details, check the <a class="http" href="http://www.ietf.org/rfc/rfc2445.txt">iCalendar RFC</a>. <span class="anchor" id="line-548"></span><span class="anchor" id="line-549"></span><span class="anchor" id="line-550"></span></p><p class="line867">
</p><h4 id="head-0a0c19852fd7a09fe80e71dfdb707c94357bd3b2">rrule methods</h4>
<span class="anchor" id="line-551"></span><p class="line862">The following methods are available in <tt>rrule</tt> instances: <span class="anchor" id="line-552"></span><span class="anchor" id="line-553"></span></p><dl><dt>rrule.before(dt, inc=False)</dt><dd><span class="anchor" id="line-554"></span><p class="line862">Returns the last recurrence before the given <tt>datetime</tt> <span class="anchor" id="line-555"></span>instance. The <tt>inc</tt> keyword defines what happens if <span class="anchor" id="line-556"></span><tt>dt</tt> <strong>is</strong> an occurrence. With <tt>inc&nbsp;==&nbsp;True</tt>, <span class="anchor" id="line-557"></span>if <tt>dt</tt> itself is an occurrence, it will be returned. <span class="anchor" id="line-558"></span><span class="anchor" id="line-559"></span></p></dd><dt>rrule.after(dt, inc=False)</dt><dd><span class="anchor" id="line-560"></span><p class="line862">Returns the first recurrence after the given <tt>datetime</tt> <span class="anchor" id="line-561"></span>instance. The <tt>inc</tt> keyword defines what happens if <span class="anchor" id="line-562"></span><tt>dt</tt> <strong>is</strong> an occurrence. With <tt>inc&nbsp;==&nbsp;True</tt>, <span class="anchor" id="line-563"></span>if <tt>dt</tt> itself is an occurrence, it will be returned. <span class="anchor" id="line-564"></span><span class="anchor" id="line-565"></span></p></dd><dt>rrule.between(after, before, inc=False)</dt><dd><span class="anchor" id="line-566"></span><p class="line862">Returns all the occurrences of the rrule between <tt>after</tt> <span class="anchor" id="line-567"></span>and <tt>before</tt>. The <tt>inc</tt> keyword defines what happens <span class="anchor" id="line-568"></span>if <tt>after</tt> and/or <tt>before</tt> are themselves occurrences. <span class="anchor" id="line-569"></span>With <tt>inc&nbsp;==&nbsp;True</tt>, they will be included in the list, <span class="anchor" id="line-570"></span>if they are found in the recurrence set. <span class="anchor" id="line-571"></span><span class="anchor" id="line-572"></span></p></dd><dt>rrule.count()</dt><dd><span class="anchor" id="line-573"></span>Returns the number of recurrences in this set. It will have <span class="anchor" id="line-574"></span>go trough the whole recurrence, if this hasn't been done <span class="anchor" id="line-575"></span>before. <span class="anchor" id="line-576"></span><span class="anchor" id="line-577"></span></dd></dl><p class="line862">Besides these methods, <tt>rrule</tt> instances also support <span class="anchor" id="line-578"></span>the <tt>__getitem__()</tt> and <tt>__contains__()</tt> special methods, <span class="anchor" id="line-579"></span>meaning that these are valid expressions: <span class="anchor" id="line-580"></span><span class="anchor" id="line-581"></span><span class="anchor" id="line-582"></span><span class="anchor" id="line-583"></span><span class="anchor" id="line-584"></span><span class="anchor" id="line-585"></span><span class="anchor" id="line-586"></span><span class="anchor" id="line-587"></span><span class="anchor" id="line-588"></span></p><pre>rr = rrule(...)
if datetime(...) in rr:
    ...
print rr[0]
print rr[-1]
print rr[1:2]
print rr[::-2]</pre><span class="anchor" id="line-589"></span><span class="anchor" id="line-590"></span><p class="line874">The getitem/slicing mechanism is smart enough to avoid getting the whole <span class="anchor" id="line-591"></span>recurrence set, if possible. <span class="anchor" id="line-592"></span><span class="anchor" id="line-593"></span><span class="anchor" id="line-594"></span></p><p class="line867">
</p><h4 id="head-a65103993a21b717f6702063f3717e6e75b4ba66">Notes</h4>
<span class="anchor" id="line-595"></span><span class="anchor" id="line-596"></span><ul><li><p class="line862">The rrule type has no <tt>byday</tt> keyword. The equivalent keyword <span class="anchor" id="line-597"></span>has been replaced by the <tt>byweekday</tt> keyword, to remove the <span class="anchor" id="line-598"></span>ambiguity present in the original keyword. <span class="anchor" id="line-599"></span><span class="anchor" id="line-600"></span></p></li><li class="gap"><p class="line862">Unlike documented in the RFC, the starting datetime (<tt>dtstart</tt>) <span class="anchor" id="line-601"></span>is not the first recurrence instance, unless it does fit in the <span class="anchor" id="line-602"></span>specified rules. In a python module context, this behavior makes more <span class="anchor" id="line-603"></span>sense than otherwise. Notice that you can easily get the original <span class="anchor" id="line-604"></span>behavior by using a rruleset and adding the <tt>dtstart</tt> as an <span class="anchor" id="line-605"></span><tt>rdate</tt> recurrence. <span class="anchor" id="line-606"></span><span class="anchor" id="line-607"></span></p></li><li class="gap">Unlike documented in the RFC, every keyword is valid on every <span class="anchor" id="line-608"></span><p class="line862">frequency (the RFC documents that <tt>byweekno</tt> is only valid <span class="anchor" id="line-609"></span>on yearly frequencies, for example). <span class="anchor" id="line-610"></span><span class="anchor" id="line-611"></span></p></li><li class="gap"><p class="line862">In addition to the documented keywords, a <tt>byeaster</tt> keyword <span class="anchor" id="line-612"></span>was introduced, making it easy to compute recurrent events relative <span class="anchor" id="line-613"></span>to the Easter Sunday. <span class="anchor" id="line-614"></span><span class="anchor" id="line-615"></span></p></li></ul><p class="line867">
</p><h4 id="head-1f7c5d0c956a96f26aa1de60b861f4d58180c1dd">rrule examples</h4>
<span class="anchor" id="line-616"></span><p class="line874">These examples were converted from the RFC. <span class="anchor" id="line-617"></span><span class="anchor" id="line-618"></span></p><p class="line874">Prepare the environment. <span class="anchor" id="line-619"></span><span class="anchor" id="line-620"></span><span class="anchor" id="line-621"></span><span class="anchor" id="line-622"></span><span class="anchor" id="line-623"></span><span class="anchor" id="line-624"></span><span class="anchor" id="line-625"></span><span class="anchor" id="line-626"></span><span class="anchor" id="line-627"></span></p><pre>&gt;&gt;&gt; from dateutil.rrule import *
&gt;&gt;&gt; from dateutil.parser import *
&gt;&gt;&gt; from datetime import *

&gt;&gt;&gt; import pprint
&gt;&gt;&gt; import sys
&gt;&gt;&gt; sys.displayhook = pprint.pprint</pre><span class="anchor" id="line-628"></span><span class="anchor" id="line-629"></span><p class="line874">Daily, for 10 occurrences. <span class="anchor" id="line-630"></span><span class="anchor" id="line-631"></span><span class="anchor" id="line-632"></span><span class="anchor" id="line-633"></span><span class="anchor" id="line-634"></span><span class="anchor" id="line-635"></span><span class="anchor" id="line-636"></span><span class="anchor" id="line-637"></span><span class="anchor" id="line-638"></span><span class="anchor" id="line-639"></span><span class="anchor" id="line-640"></span><span class="anchor" id="line-641"></span><span class="anchor" id="line-642"></span><span class="anchor" id="line-643"></span></p><pre>&gt;&gt;&gt; list(rrule(DAILY, count=10,
               dtstart=parse("19970902T090000")))
[datetime.datetime(1997, 9, 2, 9, 0),
 datetime.datetime(1997, 9, 3, 9, 0),
 datetime.datetime(1997, 9, 4, 9, 0),
 datetime.datetime(1997, 9, 5, 9, 0),
 datetime.datetime(1997, 9, 6, 9, 0),
 datetime.datetime(1997, 9, 7, 9, 0),
 datetime.datetime(1997, 9, 8, 9, 0),
 datetime.datetime(1997, 9, 9, 9, 0),
 datetime.datetime(1997, 9, 10, 9, 0),
 datetime.datetime(1997, 9, 11, 9, 0)]</pre><span class="anchor" id="line-644"></span><span class="anchor" id="line-645"></span><p class="line874">Daily until December 24, 1997 <span class="anchor" id="line-646"></span><span class="anchor" id="line-647"></span><span class="anchor" id="line-648"></span><span class="anchor" id="line-649"></span><span class="anchor" id="line-650"></span><span class="anchor" id="line-651"></span><span class="anchor" id="line-652"></span><span class="anchor" id="line-653"></span><span class="anchor" id="line-654"></span><span class="anchor" id="line-655"></span><span class="anchor" id="line-656"></span><span class="anchor" id="line-657"></span></p><pre>&gt;&gt;&gt; list(rrule(DAILY,
               dtstart=parse("19970902T090000"),
               until=parse("19971224T000000")))
[datetime.datetime(1997, 9, 2, 9, 0),
 datetime.datetime(1997, 9, 3, 9, 0),
 datetime.datetime(1997, 9, 4, 9, 0),
 (...)
 datetime.datetime(1997, 12, 21, 9, 0),
 datetime.datetime(1997, 12, 22, 9, 0),
 datetime.datetime(1997, 12, 23, 9, 0)]</pre><span class="anchor" id="line-658"></span><span class="anchor" id="line-659"></span><p class="line874">Every other day, 5 occurrences. <span class="anchor" id="line-660"></span><span class="anchor" id="line-661"></span><span class="anchor" id="line-662"></span><span class="anchor" id="line-663"></span><span class="anchor" id="line-664"></span><span class="anchor" id="line-665"></span><span class="anchor" id="line-666"></span><span class="anchor" id="line-667"></span><span class="anchor" id="line-668"></span></p><pre>&gt;&gt;&gt; list(rrule(DAILY, interval=2, count=5,
               dtstart=parse("19970902T090000")))
[datetime.datetime(1997, 9, 2, 9, 0),
 datetime.datetime(1997, 9, 4, 9, 0),
 datetime.datetime(1997, 9, 6, 9, 0),
 datetime.datetime(1997, 9, 8, 9, 0),
 datetime.datetime(1997, 9, 10, 9, 0)]</pre><span class="anchor" id="line-669"></span><span class="anchor" id="line-670"></span><p class="line874">Every 10 days, 5 occurrences. <span class="anchor" id="line-671"></span><span class="anchor" id="line-672"></span><span class="anchor" id="line-673"></span><span class="anchor" id="line-674"></span><span class="anchor" id="line-675"></span><span class="anchor" id="line-676"></span><span class="anchor" id="line-677"></span><span class="anchor" id="line-678"></span><span class="anchor" id="line-679"></span></p><pre>&gt;&gt;&gt; list(rrule(DAILY, interval=10, count=5,
               dtstart=parse("19970902T090000")))
[datetime.datetime(1997, 9, 2, 9, 0),
 datetime.datetime(1997, 9, 12, 9, 0),
 datetime.datetime(1997, 9, 22, 9, 0),
 datetime.datetime(1997, 10, 2, 9, 0),
 datetime.datetime(1997, 10, 12, 9, 0)]</pre><span class="anchor" id="line-680"></span><span class="anchor" id="line-681"></span><p class="line874">Everyday in January, for 3 years. <span class="anchor" id="line-682"></span><span class="anchor" id="line-683"></span><span class="anchor" id="line-684"></span><span class="anchor" id="line-685"></span><span class="anchor" id="line-686"></span><span class="anchor" id="line-687"></span><span class="anchor" id="line-688"></span><span class="anchor" id="line-689"></span><span class="anchor" id="line-690"></span><span class="anchor" id="line-691"></span><span class="anchor" id="line-692"></span><span class="anchor" id="line-693"></span><span class="anchor" id="line-694"></span><span class="anchor" id="line-695"></span><span class="anchor" id="line-696"></span><span class="anchor" id="line-697"></span><span class="anchor" id="line-698"></span><span class="anchor" id="line-699"></span><span class="anchor" id="line-700"></span><span class="anchor" id="line-701"></span></p><pre>&gt;&gt;&gt; list(rrule(YEARLY, bymonth=1, byweekday=range(7),
               dtstart=parse("19980101T090000"),
               until=parse("20000131T090000")))
[datetime.datetime(1998, 1, 1, 9, 0),
 datetime.datetime(1998, 1, 2, 9, 0),
 (...)
 datetime.datetime(1998, 1, 30, 9, 0),
 datetime.datetime(1998, 1, 31, 9, 0),
 datetime.datetime(1999, 1, 1, 9, 0),
 datetime.datetime(1999, 1, 2, 9, 0),
 (...)
 datetime.datetime(1999, 1, 30, 9, 0),
 datetime.datetime(1999, 1, 31, 9, 0),
 datetime.datetime(2000, 1, 1, 9, 0),
 datetime.datetime(2000, 1, 2, 9, 0),
 (...)
 datetime.datetime(2000, 1, 29, 9, 0),
 datetime.datetime(2000, 1, 31, 9, 0)]</pre><p class="line874"> <span class="anchor" id="line-702"></span><span class="anchor" id="line-703"></span></p><p class="line874">Same thing, in another way. <span class="anchor" id="line-704"></span><span class="anchor" id="line-705"></span><span class="anchor" id="line-706"></span><span class="anchor" id="line-707"></span><span class="anchor" id="line-708"></span><span class="anchor" id="line-709"></span></p><pre>&gt;&gt;&gt; list(rrule(DAILY, bymonth=1,
               dtstart=parse("19980101T090000"),
               until=parse("20000131T090000")))
(...)</pre><span class="anchor" id="line-710"></span><span class="anchor" id="line-711"></span><p class="line874">Weekly for 10 occurrences. <span class="anchor" id="line-712"></span><span class="anchor" id="line-713"></span><span class="anchor" id="line-714"></span><span class="anchor" id="line-715"></span><span class="anchor" id="line-716"></span><span class="anchor" id="line-717"></span><span class="anchor" id="line-718"></span><span class="anchor" id="line-719"></span><span class="anchor" id="line-720"></span><span class="anchor" id="line-721"></span><span class="anchor" id="line-722"></span><span class="anchor" id="line-723"></span><span class="anchor" id="line-724"></span><span class="anchor" id="line-725"></span></p><pre>&gt;&gt;&gt; list(rrule(WEEKLY, count=10,
               dtstart=parse("19970902T090000")))
[datetime.datetime(1997, 9, 2, 9, 0),
 datetime.datetime(1997, 9, 9, 9, 0),
 datetime.datetime(1997, 9, 16, 9, 0),
 datetime.datetime(1997, 9, 23, 9, 0),
 datetime.datetime(1997, 9, 30, 9, 0),
 datetime.datetime(1997, 10, 7, 9, 0),
 datetime.datetime(1997, 10, 14, 9, 0),
 datetime.datetime(1997, 10, 21, 9, 0),
 datetime.datetime(1997, 10, 28, 9, 0),
 datetime.datetime(1997, 11, 4, 9, 0)]</pre><span class="anchor" id="line-726"></span><span class="anchor" id="line-727"></span><p class="line874">Every other week, 6 occurrences. <span class="anchor" id="line-728"></span><span class="anchor" id="line-729"></span><span class="anchor" id="line-730"></span><span class="anchor" id="line-731"></span><span class="anchor" id="line-732"></span><span class="anchor" id="line-733"></span><span class="anchor" id="line-734"></span><span class="anchor" id="line-735"></span><span class="anchor" id="line-736"></span><span class="anchor" id="line-737"></span></p><pre>&gt;&gt;&gt; list(rrule(WEEKLY, interval=2, count=6,
               dtstart=parse("19970902T090000")))
[datetime.datetime(1997, 9, 2, 9, 0),
 datetime.datetime(1997, 9, 16, 9, 0),
 datetime.datetime(1997, 9, 30, 9, 0),
 datetime.datetime(1997, 10, 14, 9, 0),
 datetime.datetime(1997, 10, 28, 9, 0),
 datetime.datetime(1997, 11, 11, 9, 0)]</pre><span class="anchor" id="line-738"></span><span class="anchor" id="line-739"></span><p class="line874">Weekly on Tuesday and Thursday for 5 weeks. <span class="anchor" id="line-740"></span><span class="anchor" id="line-741"></span><span class="anchor" id="line-742"></span><span class="anchor" id="line-743"></span><span class="anchor" id="line-744"></span><span class="anchor" id="line-745"></span><span class="anchor" id="line-746"></span><span class="anchor" id="line-747"></span><span class="anchor" id="line-748"></span><span class="anchor" id="line-749"></span><span class="anchor" id="line-750"></span><span class="anchor" id="line-751"></span><span class="anchor" id="line-752"></span><span class="anchor" id="line-753"></span></p><pre>&gt;&gt;&gt; list(rrule(WEEKLY, count=10, wkst=SU, byweekday=(TU,TH),
               dtstart=parse("19970902T090000")))
[datetime.datetime(1997, 9, 2, 9, 0),
 datetime.datetime(1997, 9, 4, 9, 0),
 datetime.datetime(1997, 9, 9, 9, 0),
 datetime.datetime(1997, 9, 11, 9, 0),
 datetime.datetime(1997, 9, 16, 9, 0),
 datetime.datetime(1997, 9, 18, 9, 0),
 datetime.datetime(1997, 9, 23, 9, 0),
 datetime.datetime(1997, 9, 25, 9, 0),
 datetime.datetime(1997, 9, 30, 9, 0),
 datetime.datetime(1997, 10, 2, 9, 0)]</pre><span class="anchor" id="line-754"></span><span class="anchor" id="line-755"></span><p class="line874">Every other week on Tuesday and Thursday, for 8 occurrences. <span class="anchor" id="line-756"></span><span class="anchor" id="line-757"></span><span class="anchor" id="line-758"></span><span class="anchor" id="line-759"></span><span class="anchor" id="line-760"></span><span class="anchor" id="line-761"></span><span class="anchor" id="line-762"></span><span class="anchor" id="line-763"></span><span class="anchor" id="line-764"></span><span class="anchor" id="line-765"></span><span class="anchor" id="line-766"></span><span class="anchor" id="line-767"></span><span class="anchor" id="line-768"></span></p><pre>&gt;&gt;&gt; list(rrule(WEEKLY, interval=2, count=8,
               wkst=SU, byweekday=(TU,TH),
               dtstart=parse("19970902T090000")))
[datetime.datetime(1997, 9, 2, 9, 0),
 datetime.datetime(1997, 9, 4, 9, 0),
 datetime.datetime(1997, 9, 16, 9, 0),
 datetime.datetime(1997, 9, 18, 9, 0),
 datetime.datetime(1997, 9, 30, 9, 0),
 datetime.datetime(1997, 10, 2, 9, 0),
 datetime.datetime(1997, 10, 14, 9, 0),
 datetime.datetime(1997, 10, 16, 9, 0)]</pre><span class="anchor" id="line-769"></span><span class="anchor" id="line-770"></span><p class="line874">Monthly on the 1st Friday for ten occurrences. <span class="anchor" id="line-771"></span><span class="anchor" id="line-772"></span><span class="anchor" id="line-773"></span><span class="anchor" id="line-774"></span><span class="anchor" id="line-775"></span><span class="anchor" id="line-776"></span><span class="anchor" id="line-777"></span><span class="anchor" id="line-778"></span><span class="anchor" id="line-779"></span><span class="anchor" id="line-780"></span><span class="anchor" id="line-781"></span><span class="anchor" id="line-782"></span><span class="anchor" id="line-783"></span><span class="anchor" id="line-784"></span></p><pre>&gt;&gt;&gt; list(rrule(MONTHLY, count=10, byweekday=FR(1),
               dtstart=parse("19970905T090000")))
[datetime.datetime(1997, 9, 5, 9, 0),
 datetime.datetime(1997, 10, 3, 9, 0),
 datetime.datetime(1997, 11, 7, 9, 0),
 datetime.datetime(1997, 12, 5, 9, 0),
 datetime.datetime(1998, 1, 2, 9, 0),
 datetime.datetime(1998, 2, 6, 9, 0),
 datetime.datetime(1998, 3, 6, 9, 0),
 datetime.datetime(1998, 4, 3, 9, 0),
 datetime.datetime(1998, 5, 1, 9, 0),
 datetime.datetime(1998, 6, 5, 9, 0)]</pre><span class="anchor" id="line-785"></span><span class="anchor" id="line-786"></span><p class="line874">Every other month on the 1st and last Sunday of the month for 10 occurrences. <span class="anchor" id="line-787"></span><span class="anchor" id="line-788"></span><span class="anchor" id="line-789"></span><span class="anchor" id="line-790"></span><span class="anchor" id="line-791"></span><span class="anchor" id="line-792"></span><span class="anchor" id="line-793"></span><span class="anchor" id="line-794"></span><span class="anchor" id="line-795"></span><span class="anchor" id="line-796"></span><span class="anchor" id="line-797"></span><span class="anchor" id="line-798"></span><span class="anchor" id="line-799"></span><span class="anchor" id="line-800"></span><span class="anchor" id="line-801"></span></p><pre>&gt;&gt;&gt; list(rrule(MONTHLY, interval=2, count=10,
               byweekday=(SU(1), SU(-1)),
               dtstart=parse("19970907T090000")))
[datetime.datetime(1997, 9, 7, 9, 0),
 datetime.datetime(1997, 9, 28, 9, 0),
 datetime.datetime(1997, 11, 2, 9, 0),
 datetime.datetime(1997, 11, 30, 9, 0),
 datetime.datetime(1998, 1, 4, 9, 0),
 datetime.datetime(1998, 1, 25, 9, 0),
 datetime.datetime(1998, 3, 1, 9, 0),
 datetime.datetime(1998, 3, 29, 9, 0),
 datetime.datetime(1998, 5, 3, 9, 0),
 datetime.datetime(1998, 5, 31, 9, 0)]</pre><span class="anchor" id="line-802"></span><span class="anchor" id="line-803"></span><p class="line874">Monthly on the second to last Monday of the month for 6 months. <span class="anchor" id="line-804"></span><span class="anchor" id="line-805"></span><span class="anchor" id="line-806"></span><span class="anchor" id="line-807"></span><span class="anchor" id="line-808"></span><span class="anchor" id="line-809"></span><span class="anchor" id="line-810"></span><span class="anchor" id="line-811"></span><span class="anchor" id="line-812"></span><span class="anchor" id="line-813"></span></p><pre>&gt;&gt;&gt; list(rrule(MONTHLY, count=6, byweekday=MO(-2),
               dtstart=parse("19970922T090000")))
[datetime.datetime(1997, 9, 22, 9, 0),
 datetime.datetime(1997, 10, 20, 9, 0),
 datetime.datetime(1997, 11, 17, 9, 0),
 datetime.datetime(1997, 12, 22, 9, 0),
 datetime.datetime(1998, 1, 19, 9, 0),
 datetime.datetime(1998, 2, 16, 9, 0)]</pre><span class="anchor" id="line-814"></span><span class="anchor" id="line-815"></span><p class="line874">Monthly on the third to the last day of the month, for 6 months. <span class="anchor" id="line-816"></span><span class="anchor" id="line-817"></span><span class="anchor" id="line-818"></span><span class="anchor" id="line-819"></span><span class="anchor" id="line-820"></span><span class="anchor" id="line-821"></span><span class="anchor" id="line-822"></span><span class="anchor" id="line-823"></span><span class="anchor" id="line-824"></span><span class="anchor" id="line-825"></span></p><pre>&gt;&gt;&gt; list(rrule(MONTHLY, count=6, bymonthday=-3,
               dtstart=parse("19970928T090000")))
[datetime.datetime(1997, 9, 28, 9, 0),
 datetime.datetime(1997, 10, 29, 9, 0),
 datetime.datetime(1997, 11, 28, 9, 0),
 datetime.datetime(1997, 12, 29, 9, 0),
 datetime.datetime(1998, 1, 29, 9, 0),
 datetime.datetime(1998, 2, 26, 9, 0)]</pre><span class="anchor" id="line-826"></span><span class="anchor" id="line-827"></span><p class="line874">Monthly on the 2nd and 15th of the month for 5 occurrences. <span class="anchor" id="line-828"></span><span class="anchor" id="line-829"></span><span class="anchor" id="line-830"></span><span class="anchor" id="line-831"></span><span class="anchor" id="line-832"></span><span class="anchor" id="line-833"></span><span class="anchor" id="line-834"></span><span class="anchor" id="line-835"></span><span class="anchor" id="line-836"></span></p><pre>&gt;&gt;&gt; list(rrule(MONTHLY, count=5, bymonthday=(2,15),
               dtstart=parse("19970902T090000")))
[datetime.datetime(1997, 9, 2, 9, 0),
 datetime.datetime(1997, 9, 15, 9, 0),
 datetime.datetime(1997, 10, 2, 9, 0),
 datetime.datetime(1997, 10, 15, 9, 0),
 datetime.datetime(1997, 11, 2, 9, 0)]</pre><span class="anchor" id="line-837"></span><span class="anchor" id="line-838"></span><p class="line874">Monthly on the first and last day of the month for 3 occurrences. <span class="anchor" id="line-839"></span><span class="anchor" id="line-840"></span><span class="anchor" id="line-841"></span><span class="anchor" id="line-842"></span><span class="anchor" id="line-843"></span><span class="anchor" id="line-844"></span><span class="anchor" id="line-845"></span><span class="anchor" id="line-846"></span><span class="anchor" id="line-847"></span><span class="anchor" id="line-848"></span></p><pre>&gt;&gt;&gt; list(rrule(MONTHLY, count=5, bymonthday=(-1,1,),
               dtstart=parse("1997090
2T090000")))
[datetime.datetime(1997, 9, 30, 9, 0),
 datetime.datetime(1997, 10, 1, 9, 0),
 datetime.datetime(1997, 10, 31, 9, 0),
 datetime.datetime(1997, 11, 1, 9, 0),
 datetime.datetime(1997, 11, 30, 9, 0)]</pre><span class="anchor" id="line-849"></span><span class="anchor" id="line-850"></span><p class="line874">Every 18 months on the 10th thru 15th of the month for 10 occurrences. <span class="anchor" id="line-851"></span><span class="anchor" id="line-852"></span><span class="anchor" id="line-853"></span><span class="anchor" id="line-854"></span><span class="anchor" id="line-855"></span><span class="anchor" id="line-856"></span><span class="anchor" id="line-857"></span><span class="anchor" id="line-858"></span><span class="anchor" id="line-859"></span><span class="anchor" id="line-860"></span><span class="anchor" id="line-861"></span><span class="anchor" id="line-862"></span><span class="anchor" id="line-863"></span><span class="anchor" id="line-864"></span><span class="anchor" id="line-865"></span></p><pre>&gt;&gt;&gt; list(rrule(MONTHLY, interval=18, count=10,
               bymonthday=range(10,16),
               dtstart=parse("19970910T090000")))
[datetime.datetime(1997, 9, 10, 9, 0),
 datetime.datetime(1997, 9, 11, 9, 0),
 datetime.datetime(1997, 9, 12, 9, 0),
 datetime.datetime(1997, 9, 13, 9, 0),
 datetime.datetime(1997, 9, 14, 9, 0),
 datetime.datetime(1997, 9, 15, 9, 0),
 datetime.datetime(1999, 3, 10, 9, 0),
 datetime.datetime(1999, 3, 11, 9, 0),
 datetime.datetime(1999, 3, 12, 9, 0),
 datetime.datetime(1999, 3, 13, 9, 0)]</pre><span class="anchor" id="line-866"></span><span class="anchor" id="line-867"></span><p class="line874">Every Tuesday, every other month, 6 occurences. <span class="anchor" id="line-868"></span><span class="anchor" id="line-869"></span><span class="anchor" id="line-870"></span><span class="anchor" id="line-871"></span><span class="anchor" id="line-872"></span><span class="anchor" id="line-873"></span><span class="anchor" id="line-874"></span><span class="anchor" id="line-875"></span><span class="anchor" id="line-876"></span><span class="anchor" id="line-877"></span></p><pre>&gt;&gt;&gt; list(rrule(MONTHLY, interval=2, count=6, byweekday=TU,
               dtstart=parse("19970902T090000")))
[datetime.datetime(1997, 9, 2, 9, 0),
 datetime.datetime(1997, 9, 9, 9, 0),
 datetime.datetime(1997, 9, 16, 9, 0),
 datetime.datetime(1997, 9, 23, 9, 0),
 datetime.datetime(1997, 9, 30, 9, 0),
 datetime.datetime(1997, 11, 4, 9, 0)]</pre><span class="anchor" id="line-878"></span><span class="anchor" id="line-879"></span><p class="line874">Yearly in June and July for 10 occurrences. <span class="anchor" id="line-880"></span><span class="anchor" id="line-881"></span><span class="anchor" id="line-882"></span><span class="anchor" id="line-883"></span><span class="anchor" id="line-884"></span><span class="anchor" id="line-885"></span><span class="anchor" id="line-886"></span><span class="anchor" id="line-887"></span><span class="anchor" id="line-888"></span></p><pre>&gt;&gt;&gt; list(rrule(YEARLY, count=4, bymonth=(6,7),
               dtstart=parse("19970610T0900
00")))
[datetime.datetime(1997, 6, 10, 9, 0),
 datetime.datetime(1997, 7, 10, 9, 0),
 datetime.datetime(1998, 6, 10, 9, 0),
 datetime.datetime(1998, 7, 10, 9, 0)]</pre><span class="anchor" id="line-889"></span><span class="anchor" id="line-890"></span><p class="line874">Every 3rd year on the 1st, 100th and 200th day for 4 occurrences. <span class="anchor" id="line-891"></span><span class="anchor" id="line-892"></span><span class="anchor" id="line-893"></span><span class="anchor" id="line-894"></span><span class="anchor" id="line-895"></span><span class="anchor" id="line-896"></span><span class="anchor" id="line-897"></span><span class="anchor" id="line-898"></span></p><pre>&gt;&gt;&gt; list(rrule(YEARLY, count=4, interval=3, byyearday=(1,100,200),
               dtstart=parse("19970101T090000")))
[datetime.datetime(1997, 1, 1, 9, 0),
 datetime.datetime(1997, 4, 10, 9, 0),
 datetime.datetime(1997, 7, 19, 9, 0),
 datetime.datetime(2000, 1, 1, 9, 0)]</pre><span class="anchor" id="line-899"></span><span class="anchor" id="line-900"></span><p class="line874">Every 20th Monday of the year, 3 occurrences. <span class="anchor" id="line-901"></span><span class="anchor" id="line-902"></span><span class="anchor" id="line-903"></span><span class="anchor" id="line-904"></span><span class="anchor" id="line-905"></span><span class="anchor" id="line-906"></span><span class="anchor" id="line-907"></span></p><pre>&gt;&gt;&gt; list(rrule(YEARLY, count=3, byweekday=MO(20),
               dtstart=parse("19970519T090000")))
[datetime.datetime(1997, 5, 19, 9, 0),
 datetime.datetime(1998, 5, 18, 9, 0),
 datetime.datetime(1999, 5, 17, 9, 0)]</pre><span class="anchor" id="line-908"></span><span class="anchor" id="line-909"></span><p class="line874">Monday of week number 20 (where the default start of the week is Monday), <span class="anchor" id="line-910"></span>3 occurrences. <span class="anchor" id="line-911"></span><span class="anchor" id="line-912"></span><span class="anchor" id="line-913"></span><span class="anchor" id="line-914"></span><span class="anchor" id="line-915"></span><span class="anchor" id="line-916"></span><span class="anchor" id="line-917"></span></p><pre>&gt;&gt;&gt; list(rrule(YEARLY, count=3, byweekno=20, byweekday=MO,
               dtstart=parse("19970512T090000")))
[datetime.datetime(1997, 5, 12, 9, 0),
 datetime.datetime(1998, 5, 11, 9, 0),
 datetime.datetime(1999, 5, 17, 9, 0)]</pre><span class="anchor" id="line-918"></span><span class="anchor" id="line-919"></span><p class="line874">The week number 1 may be in the last year. <span class="anchor" id="line-920"></span><span class="anchor" id="line-921"></span><span class="anchor" id="line-922"></span><span class="anchor" id="line-923"></span><span class="anchor" id="line-924"></span><span class="anchor" id="line-925"></span><span class="anchor" id="line-926"></span></p><pre>&gt;&gt;&gt; list(rrule(WEEKLY, count=3, byweekno=1, byweekday=MO,
               dtstart=parse("19970902T090000")))
[datetime.datetime(1997, 12, 29, 9, 0),
 datetime.datetime(1999, 1, 4, 9, 0),
 datetime.datetime(2000, 1, 3, 9, 0)]</pre><span class="anchor" id="line-927"></span><span class="anchor" id="line-928"></span><p class="line874">And the week numbers greater than 51 may be in the next year. <span class="anchor" id="line-929"></span><span class="anchor" id="line-930"></span><span class="anchor" id="line-931"></span><span class="anchor" id="line-932"></span><span class="anchor" id="line-933"></span><span class="anchor" id="line-934"></span><span class="anchor" id="line-935"></span></p><pre>&gt;&gt;&gt; list(rrule(WEEKLY, count=3, byweekno=52, byweekday=SU,
               dtstart=parse("19970902T090000")))
[datetime.datetime(1997, 12, 28, 9, 0),
 datetime.datetime(1998, 12, 27, 9, 0),
 datetime.datetime(2000, 1, 2, 9, 0)]</pre><span class="anchor" id="line-936"></span><span class="anchor" id="line-937"></span><p class="line874">Only some years have week number 53: <span class="anchor" id="line-938"></span><span class="anchor" id="line-939"></span><span class="anchor" id="line-940"></span><span class="anchor" id="line-941"></span><span class="anchor" id="line-942"></span><span class="anchor" id="line-943"></span><span class="anchor" id="line-944"></span></p><pre>&gt;&gt;&gt; list(rrule(WEEKLY, count=3, byweekno=53, byweekday=MO,
               dtstart=parse("19970902T090000")))
[datetime.datetime(1998, 12, 28, 9, 0),
 datetime.datetime(2004, 12, 27, 9, 0),
 datetime.datetime(2009, 12, 28, 9, 0)]</pre><span class="anchor" id="line-945"></span><span class="anchor" id="line-946"></span><p class="line874">Every Friday the 13th, 4 occurrences. <span class="anchor" id="line-947"></span><span class="anchor" id="line-948"></span><span class="anchor" id="line-949"></span><span class="anchor" id="line-950"></span><span class="anchor" id="line-951"></span><span class="anchor" id="line-952"></span><span class="anchor" id="line-953"></span><span class="anchor" id="line-954"></span></p><pre>&gt;&gt;&gt; list(rrule(YEARLY, count=4, byweekday=FR, bymonthday=13,
               dtstart=parse("19970902T090000")))
[datetime.datetime(1998, 2, 13, 9, 0),
 datetime.datetime(1998, 3, 13, 9, 0),
 datetime.datetime(1998, 11, 13, 9, 0),
 datetime.datetime(1999, 8, 13, 9, 0)]</pre><span class="anchor" id="line-955"></span><span class="anchor" id="line-956"></span><p class="line874">Every four years, the first Tuesday after a Monday in November, <span class="anchor" id="line-957"></span>3 occurrences (U.S. Presidential Election day): <span class="anchor" id="line-958"></span><span class="anchor" id="line-959"></span><span class="anchor" id="line-960"></span><span class="anchor" id="line-961"></span><span class="anchor" id="line-962"></span><span class="anchor" id="line-963"></span><span class="anchor" id="line-964"></span><span class="anchor" id="line-965"></span></p><pre>&gt;&gt;&gt; list(rrule(YEARLY, interval=4, count=3, bymonth=11,
               byweekday=TU, bymonthday=(2,3,4,5,6,7,8),
               dtstart=parse("19961105T090000")))
[datetime.datetime(1996, 11, 5, 9, 0),
 datetime.datetime(2000, 11, 7, 9, 0),
 datetime.datetime(2004, 11, 2, 9, 0)]</pre><span class="anchor" id="line-966"></span><span class="anchor" id="line-967"></span><p class="line874">The 3rd instance into the month of one of Tuesday, Wednesday or <span class="anchor" id="line-968"></span>Thursday, for the next 3 months: <span class="anchor" id="line-969"></span><span class="anchor" id="line-970"></span><span class="anchor" id="line-971"></span><span class="anchor" id="line-972"></span><span class="anchor" id="line-973"></span><span class="anchor" id="line-974"></span><span class="anchor" id="line-975"></span></p><pre>&gt;&gt;&gt; list(rrule(MONTHLY, count=3, byweekday=(TU,WE,TH),
               bysetpos=3, dtstart=parse("19970904T090000")))
[datetime.datetime(1997, 9, 4, 9, 0),
 datetime.datetime(1997, 10, 7, 9, 0),
 datetime.datetime(1997, 11, 6, 9, 0)]</pre><span class="anchor" id="line-976"></span><span class="anchor" id="line-977"></span><p class="line874">The 2nd to last weekday of the month, 3 occurrences. <span class="anchor" id="line-978"></span><span class="anchor" id="line-979"></span><span class="anchor" id="line-980"></span><span class="anchor" id="line-981"></span><span class="anchor" id="line-982"></span><span class="anchor" id="line-983"></span><span class="anchor" id="line-984"></span></p><pre>&gt;&gt;&gt; list(rrule(MONTHLY, count=3, byweekday=(MO,TU,WE,TH,FR),
               bysetpos=-2, dtstart=parse("19970929T090000")))
[datetime.datetime(1997, 9, 29, 9, 0),
 datetime.datetime(1997, 10, 30, 9, 0),
 datetime.datetime(1997, 11, 27, 9, 0)]</pre><span class="anchor" id="line-985"></span><span class="anchor" id="line-986"></span><p class="line874">Every 3 hours from 9:00 AM to 5:00 PM on a specific day. <span class="anchor" id="line-987"></span><span class="anchor" id="line-988"></span><span class="anchor" id="line-989"></span><span class="anchor" id="line-990"></span><span class="anchor" id="line-991"></span><span class="anchor" id="line-992"></span><span class="anchor" id="line-993"></span><span class="anchor" id="line-994"></span></p><pre>&gt;&gt;&gt; list(rrule(HOURLY, interval=3,
               dtstart=parse("19970902T090000"),
               until=parse("19970902T170000")))
[datetime.datetime(1997, 9, 2, 9, 0),
 datetime.datetime(1997, 9, 2, 12, 0),
 datetime.datetime(1997, 9, 2, 15, 0)]</pre><span class="anchor" id="line-995"></span><span class="anchor" id="line-996"></span><p class="line874">Every 15 minutes for 6 occurrences. <span class="anchor" id="line-997"></span><span class="anchor" id="line-998"></span><span class="anchor" id="line-999"></span><span class="anchor" id="line-1000"></span><span class="anchor" id="line-1001"></span><span class="anchor" id="line-1002"></span><span class="anchor" id="line-1003"></span><span class="anchor" id="line-1004"></span><span class="anchor" id="line-1005"></span><span class="anchor" id="line-1006"></span></p><pre>&gt;&gt;&gt; list(rrule(MINUTELY, interval=15, count=6,
               dtstart=parse("19970902T090000")))
[datetime.datetime(1997, 9, 2, 9, 0),
 datetime.datetime(1997, 9, 2, 9, 15),
 datetime.datetime(1997, 9, 2, 9, 30),
 datetime.datetime(1997, 9, 2, 9, 45),
 datetime.datetime(1997, 9, 2, 10, 0),
 datetime.datetime(1997, 9, 2, 10, 15)]</pre><span class="anchor" id="line-1007"></span><span class="anchor" id="line-1008"></span><p class="line874">Every hour and a half for 4 occurrences. <span class="anchor" id="line-1009"></span><span class="anchor" id="line-1010"></span><span class="anchor" id="line-1011"></span><span class="anchor" id="line-1012"></span><span class="anchor" id="line-1013"></span><span class="anchor" id="line-1014"></span><span class="anchor" id="line-1015"></span><span class="anchor" id="line-1016"></span></p><pre>&gt;&gt;&gt; list(rrule(MINUTELY, interval=90, count=4,
               dtstart=parse("19970902T090000")))
[datetime.datetime(1997, 9, 2, 9, 0),
 datetime.datetime(1997, 9, 2, 10, 30),
 datetime.datetime(1997, 9, 2, 12, 0),
 datetime.datetime(1997, 9, 2, 13, 30)]</pre><span class="anchor" id="line-1017"></span><span class="anchor" id="line-1018"></span><p class="line874">Every 20 minutes from 9:00 AM to 4:40 PM for two days. <span class="anchor" id="line-1019"></span><span class="anchor" id="line-1020"></span><span class="anchor" id="line-1021"></span><span class="anchor" id="line-1022"></span><span class="anchor" id="line-1023"></span><span class="anchor" id="line-1024"></span><span class="anchor" id="line-1025"></span><span class="anchor" id="line-1026"></span><span class="anchor" id="line-1027"></span><span class="anchor" id="line-1028"></span><span class="anchor" id="line-1029"></span><span class="anchor" id="line-1030"></span><span class="anchor" id="line-1031"></span><span class="anchor" id="line-1032"></span><span class="anchor" id="line-1033"></span></p><pre>&gt;&gt;&gt; list(rrule(MINUTELY, interval=20, count=48,
               byhour=range(9,17), byminute=(0,20,40),
               dtstart=parse("19970902T090000")))
[datetime.datetime(1997, 9, 2, 9, 0),
 datetime.datetime(1997, 9, 2, 9, 20),
 (...)
 datetime.datetime(1997, 9, 2, 16, 20),
 datetime.datetime(1997, 9, 2, 16, 40),
 datetime.datetime(1997, 9, 3, 9, 0),
 datetime.datetime(1997, 9, 3, 9, 20),
 (...)
 datetime.datetime(1997, 9, 3, 16, 20),
 datetime.datetime(1997, 9, 3, 16, 40)]</pre><span class="anchor" id="line-1034"></span><span class="anchor" id="line-1035"></span><p class="line862">An example where the days generated makes a difference because of <tt>wkst</tt>. <span class="anchor" id="line-1036"></span><span class="anchor" id="line-1037"></span><span class="anchor" id="line-1038"></span><span class="anchor" id="line-1039"></span><span class="anchor" id="line-1040"></span><span class="anchor" id="line-1041"></span><span class="anchor" id="line-1042"></span><span class="anchor" id="line-1043"></span><span class="anchor" id="line-1044"></span><span class="anchor" id="line-1045"></span><span class="anchor" id="line-1046"></span><span class="anchor" id="line-1047"></span><span class="anchor" id="line-1048"></span><span class="anchor" id="line-1049"></span><span class="anchor" id="line-1050"></span><span class="anchor" id="line-1051"></span><span class="anchor" id="line-1052"></span></p><pre>&gt;&gt;&gt; list(rrule(WEEKLY, interval=2, count=4,
               byweekday=(TU,SU), wkst=MO,
               dtstart=parse("19970805T090000")))
[datetime.datetime(1997, 8, 5, 9, 0),
 datetime.datetime(1997, 8, 10, 9, 0),
 datetime.datetime(1997, 8, 19, 9, 0),
 datetime.datetime(1997, 8, 24, 9, 0)]

&gt;&gt;&gt; list(rrule(WEEKLY, interval=2, count=4,
               byweekday=(TU,SU), wkst=SU,
               dtstart=parse("19970805T090000")))
[datetime.datetime(1997, 8, 5, 9, 0),
 datetime.datetime(1997, 8, 17, 9, 0),
 datetime.datetime(1997, 8, 19, 9, 0),
 datetime.datetime(1997, 8, 31, 9, 0)]</pre><span class="anchor" id="line-1053"></span><span class="anchor" id="line-1054"></span><p class="line867">
</p><h4 id="head-f83f4f0dd5fa533e0260bdcdd08df927594c32d2">rruleset type</h4>
<span class="anchor" id="line-1055"></span><p class="line862">The <tt>rruleset</tt> type allows more complex recurrence setups, mixing <span class="anchor" id="line-1056"></span>multiple rules, dates, exclusion rules, and exclusion dates. <span class="anchor" id="line-1057"></span>The type constructor takes the following keyword arguments: <span class="anchor" id="line-1058"></span><span class="anchor" id="line-1059"></span></p><dl><dt>cache</dt><dd><span class="anchor" id="line-1060"></span>If True, caching of results will be enabled, improving performance <span class="anchor" id="line-1061"></span>of multiple queries considerably. <span class="anchor" id="line-1062"></span><span class="anchor" id="line-1063"></span></dd></dl><p class="line867">
</p><h4 id="head-717a8f5a506d997f07db99aeb71b76ea991f9309">rruleset methods</h4>
<span class="anchor" id="line-1064"></span><p class="line874">The following methods are available: <span class="anchor" id="line-1065"></span><span class="anchor" id="line-1066"></span></p><dl><dt>rruleset.rrule(rrule)</dt><dd><span class="anchor" id="line-1067"></span><p class="line862">Include the given <tt>rrule</tt> instance in the recurrence set <span class="anchor" id="line-1068"></span>generation. <span class="anchor" id="line-1069"></span><span class="anchor" id="line-1070"></span></p></dd><dt>rruleset.rdate(dt)</dt><dd><span class="anchor" id="line-1071"></span><p class="line862">Include the given <tt>datetime</tt> instance in the recurrence <span class="anchor" id="line-1072"></span>set generation. <span class="anchor" id="line-1073"></span><span class="anchor" id="line-1074"></span></p></dd><dt>rruleset.exrule(rrule)</dt><dd><span class="anchor" id="line-1075"></span><p class="line862">Include the given <tt>rrule</tt> instance in the recurrence set <span class="anchor" id="line-1076"></span>exclusion list. Dates which are part of the given recurrence <span class="anchor" id="line-1077"></span>rules will not be generated, even if some inclusive <tt>rrule</tt> <span class="anchor" id="line-1078"></span>or <tt>rdate</tt> matches them. <span class="anchor" id="line-1079"></span><span class="anchor" id="line-1080"></span></p></dd><dt>rruleset.exdate(dt)</dt><dd><span class="anchor" id="line-1081"></span><p class="line862">Include the given <tt>datetime</tt> instance in the recurrence set <span class="anchor" id="line-1082"></span>exclusion list. Dates included that way will not be generated, <span class="anchor" id="line-1083"></span>even if some inclusive <tt>rrule</tt> or <tt>rdate</tt> matches them. <span class="anchor" id="line-1084"></span><span class="anchor" id="line-1085"></span></p></dd><dt>rruleset.before(dt, inc=False)</dt><dd><span class="anchor" id="line-1086"></span><p class="line862">Returns the last recurrence before the given <tt>datetime</tt> <span class="anchor" id="line-1087"></span>instance. The <tt>inc</tt> keyword defines what happens if <span class="anchor" id="line-1088"></span><tt>dt</tt> <strong>is</strong> an occurrence. With <tt>inc&nbsp;==&nbsp;True</tt>, <span class="anchor" id="line-1089"></span>if <tt>dt</tt> itself is an occurrence, it will be returned. <span class="anchor" id="line-1090"></span><span class="anchor" id="line-1091"></span></p></dd><dt>rruleset.after(dt, inc=False)</dt><dd><span class="anchor" id="line-1092"></span><p class="line862">Returns the first recurrence after the given <tt>datetime</tt> <span class="anchor" id="line-1093"></span>instance. The <tt>inc</tt> keyword defines what happens if <span class="anchor" id="line-1094"></span><tt>dt</tt> <strong>is</strong> an occurrence. With <tt>inc&nbsp;==&nbsp;True</tt>, <span class="anchor" id="line-1095"></span>if <tt>dt</tt> itself is an occurrence, it will be returned. <span class="anchor" id="line-1096"></span><span class="anchor" id="line-1097"></span></p></dd><dt>rruleset.between(after, before, inc=False)</dt><dd><span class="anchor" id="line-1098"></span><p class="line862">Returns all the occurrences of the rrule between <tt>after</tt> <span class="anchor" id="line-1099"></span>and <tt>before</tt>. The <tt>inc</tt> keyword defines what happens <span class="anchor" id="line-1100"></span>if <tt>after</tt> and/or <tt>before</tt> are themselves occurrences. <span class="anchor" id="line-1101"></span>With <tt>inc&nbsp;==&nbsp;True</tt>, they will be included in the list, <span class="anchor" id="line-1102"></span>if they are found in the recurrence set. <span class="anchor" id="line-1103"></span><span class="anchor" id="line-1104"></span></p></dd><dt>rruleset.count()</dt><dd><span class="anchor" id="line-1105"></span>Returns the number of recurrences in this set. It will have <span class="anchor" id="line-1106"></span>go trough the whole recurrence, if this hasn't been done <span class="anchor" id="line-1107"></span>before. <span class="anchor" id="line-1108"></span><span class="anchor" id="line-1109"></span></dd></dl><p class="line862">Besides these methods, <tt>rruleset</tt> instances also support <span class="anchor" id="line-1110"></span>the <tt>__getitem__()</tt> and <tt>__contains__()</tt> special methods, <span class="anchor" id="line-1111"></span>meaning that these are valid expressions: <span class="anchor" id="line-1112"></span><span class="anchor" id="line-1113"></span><span class="anchor" id="line-1114"></span><span class="anchor" id="line-1115"></span><span class="anchor" id="line-1116"></span><span class="anchor" id="line-1117"></span><span class="anchor" id="line-1118"></span><span class="anchor" id="line-1119"></span><span class="anchor" id="line-1120"></span></p><pre>set = rruleset(...)
if datetime(...) in set:
    ...
print set[0]
print set[-1]
print set[1:2]
print set[::-2]</pre><span class="anchor" id="line-1121"></span><span class="anchor" id="line-1122"></span><p class="line874">The getitem/slicing mechanism is smart enough to avoid getting the whole <span class="anchor" id="line-1123"></span>recurrence set, if possible. <span class="anchor" id="line-1124"></span><span class="anchor" id="line-1125"></span></p><p class="line867">
</p><h4 id="head-c8490514591aca4648153ac3fec3ac8378812e68">rruleset examples</h4>
<span class="anchor" id="line-1126"></span><p class="line874">Daily, for 7 days, jumping Saturday and Sunday occurrences. <span class="anchor" id="line-1127"></span><span class="anchor" id="line-1128"></span><span class="anchor" id="line-1129"></span><span class="anchor" id="line-1130"></span><span class="anchor" id="line-1131"></span><span class="anchor" id="line-1132"></span><span class="anchor" id="line-1133"></span><span class="anchor" id="line-1134"></span><span class="anchor" id="line-1135"></span><span class="anchor" id="line-1136"></span><span class="anchor" id="line-1137"></span><span class="anchor" id="line-1138"></span><span class="anchor" id="line-1139"></span></p><pre>&gt;&gt;&gt; set = rruleset()
&gt;&gt;&gt; set.rrule(rrule(DAILY, count=7,
                    dtstart=parse("19970902T090000")))
&gt;&gt;&gt; set.exrule(rrule(YEARLY, byweekday=(SA,SU),
                     dtstart=parse("19970902T090000")))
&gt;&gt;&gt; list(set)
[datetime.datetime(1997, 9, 2, 9, 0),
 datetime.datetime(1997, 9, 3, 9, 0),
 datetime.datetime(1997, 9, 4, 9, 0),
 datetime.datetime(1997, 9, 5, 9, 0),
 datetime.datetime(1997, 9, 8, 9, 0)]</pre><span class="anchor" id="line-1140"></span><span class="anchor" id="line-1141"></span><p class="line874">Weekly, for 4 weeks, plus one time on day 7, and not on day 16. <span class="anchor" id="line-1142"></span><span class="anchor" id="line-1143"></span><span class="anchor" id="line-1144"></span><span class="anchor" id="line-1145"></span><span class="anchor" id="line-1146"></span><span class="anchor" id="line-1147"></span><span class="anchor" id="line-1148"></span><span class="anchor" id="line-1149"></span><span class="anchor" id="line-1150"></span><span class="anchor" id="line-1151"></span><span class="anchor" id="line-1152"></span><span class="anchor" id="line-1153"></span></p><pre>&gt;&gt;&gt; set = rruleset()
&gt;&gt;&gt; set.rrule(rrule(WEEKLY, count=4,
                    dtstart=parse("19970902T090000")))
&gt;&gt;&gt; set.rdate(datetime.datetime(1997, 9, 7, 9, 0))
&gt;&gt;&gt; set.exdate(datetime.datetime(1997, 9, 16, 9, 0))
&gt;&gt;&gt; list(set)
[datetime.datetime(1997, 9, 2, 9, 0),
 datetime.datetime(1997, 9, 7, 9, 0),
 datetime.datetime(1997, 9, 9, 9, 0),
 datetime.datetime(1997, 9, 23, 9, 0)]</pre><span class="anchor" id="line-1154"></span><span class="anchor" id="line-1155"></span><p class="line867">
</p><h4 id="head-e987b581aebacf25c7276d3e9214385a12a091f2">rrulestr() function</h4>
<span class="anchor" id="line-1156"></span><p class="line862">The <tt>rrulestr()</tt> function is a parser for <em>RFC-like</em> syntaxes. <span class="anchor" id="line-1157"></span>The function prototype is: <span class="anchor" id="line-1158"></span><span class="anchor" id="line-1159"></span><span class="anchor" id="line-1160"></span></p><pre>rrulestr(str)</pre><span class="anchor" id="line-1161"></span><span class="anchor" id="line-1162"></span><p class="line874">The string passed as parameter may be a multiple line string, a <span class="anchor" id="line-1163"></span>single line string, or just the <tt>RRULE</tt> property value. <span class="anchor" id="line-1164"></span><span class="anchor" id="line-1165"></span></p><p class="line874">Additionally, it accepts the following keyword arguments: <span class="anchor" id="line-1166"></span><span class="anchor" id="line-1167"></span></p><dl><dt>cache</dt><dd><span class="anchor" id="line-1168"></span><p class="line862">If <tt>True</tt>, the <tt>rruleset</tt> or <tt>rrule</tt> created instance <span class="anchor" id="line-1169"></span>will cache its results. Default is not to cache. <span class="anchor" id="line-1170"></span><span class="anchor" id="line-1171"></span></p></dd><dt>dtstart</dt><dd><span class="anchor" id="line-1172"></span><p class="line862">If given, it must be a <tt>datetime</tt> instance that will be used <span class="anchor" id="line-1173"></span>when no <tt>DTSTART</tt> property is found in the parsed string. If <span class="anchor" id="line-1174"></span>it is not given, and the property is not found, <tt>datetime.now()</tt> <span class="anchor" id="line-1175"></span>will be used instead. <span class="anchor" id="line-1176"></span><span class="anchor" id="line-1177"></span></p></dd><dt>unfold</dt><dd><span class="anchor" id="line-1178"></span><p class="line862">If set to <tt>True</tt>, lines will be unfolded following the RFC <span class="anchor" id="line-1179"></span>specification. It defaults to <tt>False</tt>, meaning that spaces <span class="anchor" id="line-1180"></span>before every line will be stripped. <span class="anchor" id="line-1181"></span><span class="anchor" id="line-1182"></span></p></dd><dt>forceset</dt><dd><span class="anchor" id="line-1183"></span><p class="line862">If set to <tt>True</tt> a <tt>rruleset</tt> instance will be returned, <span class="anchor" id="line-1184"></span>even if only a single rule is found. The default is to return an <span class="anchor" id="line-1185"></span><tt>rrule</tt> if possible, and an <tt>rruleset</tt> if necessary. <span class="anchor" id="line-1186"></span><span class="anchor" id="line-1187"></span></p></dd><dt>compatible</dt><dd><span class="anchor" id="line-1188"></span><p class="line862">If set to <tt>True</tt>, the parser will operate in RFC-compatible <span class="anchor" id="line-1189"></span>mode. Right now it means that <tt>unfold</tt> will be turned on, <span class="anchor" id="line-1190"></span>and if a <tt>DTSTART</tt> is found, it will be considered the first      <span class="anchor" id="line-1191"></span>recurrence instance, as documented in the RFC. <span class="anchor" id="line-1192"></span><span class="anchor" id="line-1193"></span></p></dd><dt>ignoretz</dt><dd><span class="anchor" id="line-1194"></span><p class="line862">If set to <tt>True</tt>, the date parser will ignore timezone <span class="anchor" id="line-1195"></span>information available in the <tt>DTSTART</tt> property, or the <span class="anchor" id="line-1196"></span><tt>UNTIL</tt> attribute. <span class="anchor" id="line-1197"></span><span class="anchor" id="line-1198"></span></p></dd><dt>tzinfos</dt><dd><span class="anchor" id="line-1199"></span>If set, it will be passed to the datetime string parser to <span class="anchor" id="line-1200"></span>resolve unknown timezone settings. For more information about <span class="anchor" id="line-1201"></span>what could be used here, check the parser documentation. <span class="anchor" id="line-1202"></span><span class="anchor" id="line-1203"></span></dd></dl><p class="line867">
</p><h4 id="head-88ab2bc809145fcf75c074817911575616ce7caf">rrulestr() examples</h4>
<span class="anchor" id="line-1204"></span><span class="anchor" id="line-1205"></span><p class="line874">Every 10 days, 5 occurrences. <span class="anchor" id="line-1206"></span><span class="anchor" id="line-1207"></span><span class="anchor" id="line-1208"></span><span class="anchor" id="line-1209"></span><span class="anchor" id="line-1210"></span><span class="anchor" id="line-1211"></span><span class="anchor" id="line-1212"></span><span class="anchor" id="line-1213"></span><span class="anchor" id="line-1214"></span><span class="anchor" id="line-1215"></span><span class="anchor" id="line-1216"></span></p><pre>&gt;&gt;&gt; list(rrulestr("""
... DTSTART:19970902T090000
... RRULE:FREQ=DAILY;INTERVAL=10;COUNT=5
... """))
[datetime.datetime(1997, 9, 2, 9, 0),
 datetime.datetime(1997, 9, 12, 9, 0),
 datetime.datetime(1997, 9, 22, 9, 0),
 datetime.datetime(1997, 10, 2, 9, 0),
 datetime.datetime(1997, 10, 12, 9, 0)]</pre><span class="anchor" id="line-1217"></span><span class="anchor" id="line-1218"></span><p class="line862">Same thing, but passing only the <tt>RRULE</tt> value. <span class="anchor" id="line-1219"></span><span class="anchor" id="line-1220"></span><span class="anchor" id="line-1221"></span><span class="anchor" id="line-1222"></span><span class="anchor" id="line-1223"></span><span class="anchor" id="line-1224"></span><span class="anchor" id="line-1225"></span><span class="anchor" id="line-1226"></span><span class="anchor" id="line-1227"></span></p><pre>&gt;&gt;&gt; list(rrulestr("FREQ=DAILY;INTERVAL=10;COUNT=5",
                  dtstart=parse("19970902T090000")))
[datetime.datetime(1997, 9, 2, 9, 0),
 datetime.datetime(1997, 9, 12, 9, 0),
 datetime.datetime(1997, 9, 22, 9, 0),
 datetime.datetime(1997, 10, 2, 9, 0),
 datetime.datetime(1997, 10, 12, 9, 0)]</pre><span class="anchor" id="line-1228"></span><span class="anchor" id="line-1229"></span><p class="line874">Notice that when using a single rule, it returns an <span class="anchor" id="line-1230"></span><tt>rrule</tt> instance, unless <tt>forceset</tt> was used. <span class="anchor" id="line-1231"></span><span class="anchor" id="line-1232"></span><span class="anchor" id="line-1233"></span><span class="anchor" id="line-1234"></span><span class="anchor" id="line-1235"></span><span class="anchor" id="line-1236"></span><span class="anchor" id="line-1237"></span><span class="anchor" id="line-1238"></span><span class="anchor" id="line-1239"></span><span class="anchor" id="line-1240"></span><span class="anchor" id="line-1241"></span><span class="anchor" id="line-1242"></span><span class="anchor" id="line-1243"></span></p><pre>&gt;&gt;&gt; rrulestr("FREQ=DAILY;INTERVAL=10;COUNT=5")
&lt;dateutil.rrule.rrule instance at 0x30269f08&gt;

&gt;&gt;&gt; rrulestr("""
... DTSTART:19970902T090000
... RRULE:FREQ=DAILY;INTERVAL=10;COUNT=5
... """)
&lt;dateutil.rrule.rrule instance at 0x302699e0&gt;

&gt;&gt;&gt; rrulestr("FREQ=DAILY;INTERVAL=10;COUNT=5", forceset=True)
&lt;dateutil.rrule.rruleset instance at 0x30269f08&gt;</pre><span class="anchor" id="line-1244"></span><span class="anchor" id="line-1245"></span><p class="line862">But when an <tt>rruleset</tt> is needed, it is automatically used. <span class="anchor" id="line-1246"></span><span class="anchor" id="line-1247"></span><span class="anchor" id="line-1248"></span><span class="anchor" id="line-1249"></span><span class="anchor" id="line-1250"></span><span class="anchor" id="line-1251"></span><span class="anchor" id="line-1252"></span><span class="anchor" id="line-1253"></span></p><pre>&gt;&gt;&gt; rrulestr("""
... DTSTART:19970902T090000
... RRULE:FREQ=DAILY;INTERVAL=10;COUNT=5
... RRULE:FREQ=DAILY;INTERVAL=5;COUNT=3
... """)
&lt;dateutil.rrule.rruleset instance at 0x302699e0&gt;</pre><span class="anchor" id="line-1254"></span><span class="anchor" id="line-1255"></span><p class="line867">
</p><h3 id="head-a23e8ae0a661d77b89dfb3476f85b26f0b30349c">parser</h3>
<span class="anchor" id="line-1256"></span><p class="line874">This module offers a generic date/time string parser which is <span class="anchor" id="line-1257"></span>able to parse most known formats to represent a date and/or <span class="anchor" id="line-1258"></span>time. <span class="anchor" id="line-1259"></span><span class="anchor" id="line-1260"></span></p><p class="line867">
</p><h4 id="head-c0e81a473b647dfa787dc11e8c69557ec2c3ecd2">parse() function</h4>
<span class="anchor" id="line-1261"></span><p class="line874">That's probably the only function you'll need from this module. <span class="anchor" id="line-1262"></span>It offers you an interface to access the parser functionality and <span class="anchor" id="line-1263"></span>extract a <tt>datetime</tt> type out of a string. <span class="anchor" id="line-1264"></span><span class="anchor" id="line-1265"></span></p><p class="line874">The prototype of this function is: <span class="anchor" id="line-1266"></span><span class="anchor" id="line-1267"></span><span class="anchor" id="line-1268"></span></p><pre>parse(timestr)</pre><span class="anchor" id="line-1269"></span><span class="anchor" id="line-1270"></span><p class="line874">Additionally, the following keyword arguments are available: <span class="anchor" id="line-1271"></span><span class="anchor" id="line-1272"></span></p><dl><dt>default</dt><dd><span class="anchor" id="line-1273"></span><p class="line862">If given, this must be a <tt>datetime</tt> instance. Any fields <span class="anchor" id="line-1274"></span>missing in the parsed date will be copied from this instance. <span class="anchor" id="line-1275"></span>The default value is the current date, at 00:00:00am. <span class="anchor" id="line-1276"></span><span class="anchor" id="line-1277"></span></p></dd><dt>ignoretz</dt><dd><span class="anchor" id="line-1278"></span>If this is true, even if a timezone is found in the string, <span class="anchor" id="line-1279"></span>the parser will not use it. <span class="anchor" id="line-1280"></span><span class="anchor" id="line-1281"></span></dd><dt>tzinfos</dt><dd><span class="anchor" id="line-1282"></span>Using this keyword argument you may provide custom timezones <span class="anchor" id="line-1283"></span>to the parser. If given, it must be either a dictionary with <span class="anchor" id="line-1284"></span>the timezone abbreviation as key, or a function accepting a <span class="anchor" id="line-1285"></span>timezone abbreviation and offset as argument. The dictionary <span class="anchor" id="line-1286"></span>values and the function return must be a timezone offset <span class="anchor" id="line-1287"></span>in seconds, a tzinfo subclass, or a string defining the <span class="anchor" id="line-1288"></span>timezone (in the TZ environment variable format). <span class="anchor" id="line-1289"></span><span class="anchor" id="line-1290"></span></dd><dt>dayfirst</dt><dd><span class="anchor" id="line-1291"></span>This option allow one to change the precedence in which <span class="anchor" id="line-1292"></span>days are parsed in date strings. The default is given in the <span class="anchor" id="line-1293"></span>parserinfo instance (the default parserinfo has it set to <span class="anchor" id="line-1294"></span><p class="line862">False). If <tt>dayfirst</tt> is False, the <tt>MM-DD-YYYY</tt> <span class="anchor" id="line-1295"></span>format will have precedence over <tt>DD-MM-YYYY</tt> in an <span class="anchor" id="line-1296"></span>ambiguous date. <span class="anchor" id="line-1297"></span><span class="anchor" id="line-1298"></span></p></dd><dt>yearfirst</dt><dd><span class="anchor" id="line-1299"></span>This option allow one to change the precedence in which <span class="anchor" id="line-1300"></span>years are parsed in date strings. The default is given in <span class="anchor" id="line-1301"></span>the parserinfo instance (the default parserinfo has it set <span class="anchor" id="line-1302"></span><p class="line862">to False). If <tt>yearfirst</tt> is false, the <tt>MM-DD-YY</tt> <span class="anchor" id="line-1303"></span>format will have precedence over <tt>YY-MM-DD</tt> in an <span class="anchor" id="line-1304"></span>ambiguous date. <span class="anchor" id="line-1305"></span><span class="anchor" id="line-1306"></span></p></dd><dt>fuzzy</dt><dd><span class="anchor" id="line-1307"></span><p class="line862">If <tt>fuzzy</tt> is set to True, unknown tokens in the string <span class="anchor" id="line-1308"></span>will be ignored. <span class="anchor" id="line-1309"></span><span class="anchor" id="line-1310"></span></p></dd><dt>parserinfo</dt><dd><span class="anchor" id="line-1311"></span>This parameter allows one to change how the string is parsed, <span class="anchor" id="line-1312"></span>by using a different parserinfo class instance. Using it you <span class="anchor" id="line-1313"></span>may, for example, intenationalize the parser strings, or make <span class="anchor" id="line-1314"></span>it ignore additional words. <span class="anchor" id="line-1315"></span><span class="anchor" id="line-1316"></span></dd></dl><p class="line867">
</p><h4 id="head-b95ce2094d189a89f80f5ae52a05b4ab7b41af47">Format precedence</h4>
<span class="anchor" id="line-1317"></span><p class="line862">Whenever an ambiguous date is found, the <tt>dayfirst</tt> and <span class="anchor" id="line-1318"></span><tt>yearfirst</tt> parameters will control how the information <span class="anchor" id="line-1319"></span>is processed. Here is the precedence in each case: <span class="anchor" id="line-1320"></span><span class="anchor" id="line-1321"></span></p><p class="line862">If <tt>dayfirst</tt> is <tt>False</tt> and <tt>yearfirst</tt> is <tt>False</tt>, <span class="anchor" id="line-1322"></span>(default, if no parameter is given): <span class="anchor" id="line-1323"></span><span class="anchor" id="line-1324"></span></p><ul><li><p class="line891"><tt>MM-DD-YY</tt> <span class="anchor" id="line-1325"></span></p></li><li><p class="line891"><tt>DD-MM-YY</tt> <span class="anchor" id="line-1326"></span></p></li><li><p class="line891"><tt>YY-MM-DD</tt> <span class="anchor" id="line-1327"></span><span class="anchor" id="line-1328"></span></p></li></ul><p class="line862">If <tt>dayfirst</tt> is <tt>True</tt> and <tt>yearfirst</tt> is <tt>False</tt>: <span class="anchor" id="line-1329"></span><span class="anchor" id="line-1330"></span></p><ul><li><p class="line891"><tt>DD-MM-YY</tt> <span class="anchor" id="line-1331"></span></p></li><li><p class="line891"><tt>MM-DD-YY</tt> <span class="anchor" id="line-1332"></span></p></li><li><p class="line891"><tt>YY-MM-DD</tt> <span class="anchor" id="line-1333"></span><span class="anchor" id="line-1334"></span></p></li></ul><p class="line862">If <tt>dayfirst</tt> is <tt>False</tt> and <tt>yearfirst</tt> is <tt>True</tt>: <span class="anchor" id="line-1335"></span><span class="anchor" id="line-1336"></span></p><ul><li><p class="line891"><tt>YY-MM-DD</tt> <span class="anchor" id="line-1337"></span></p></li><li><p class="line891"><tt>MM-DD-YY</tt> <span class="anchor" id="line-1338"></span></p></li><li><p class="line891"><tt>DD-MM-YY</tt> <span class="anchor" id="line-1339"></span><span class="anchor" id="line-1340"></span></p></li></ul><p class="line862">If <tt>dayfirst</tt> is <tt>True</tt> and <tt>yearfirst</tt> is <tt>True</tt>: <span class="anchor" id="line-1341"></span><span class="anchor" id="line-1342"></span></p><ul><li><p class="line891"><tt>YY-MM-DD</tt> <span class="anchor" id="line-1343"></span></p></li><li><p class="line891"><tt>DD-MM-YY</tt> <span class="anchor" id="line-1344"></span></p></li><li><p class="line891"><tt>MM-DD-YY</tt> <span class="anchor" id="line-1345"></span><span class="anchor" id="line-1346"></span></p></li></ul><p class="line867">
</p><h4 id="head-19e5d3331806e55ec2ba1b9e39458784cc0a0004">Converting two digit years</h4>
<span class="anchor" id="line-1347"></span><p class="line874">When a two digit year is found, it is processed considering <span class="anchor" id="line-1348"></span>the current year, so that the computed year is never more <span class="anchor" id="line-1349"></span>than 49 years after then current year, nor 50 years before the <span class="anchor" id="line-1350"></span>current year. In other words, if we are in year 2003, and the <span class="anchor" id="line-1351"></span>year 30 is found, it will be considered as 2030, but if the <span class="anchor" id="line-1352"></span>year 60 is found, it will be considered 1960. <span class="anchor" id="line-1353"></span><span class="anchor" id="line-1354"></span></p><p class="line867">
</p><h4 id="head-1443e0f14ad5dff07efd465e080d1110920673d8-2">Examples</h4>
<span class="anchor" id="line-1355"></span><p class="line874">The following code will prepare the environment: <span class="anchor" id="line-1356"></span><span class="anchor" id="line-1357"></span><span class="anchor" id="line-1358"></span><span class="anchor" id="line-1359"></span><span class="anchor" id="line-1360"></span><span class="anchor" id="line-1361"></span><span class="anchor" id="line-1362"></span><span class="anchor" id="line-1363"></span></p><pre>&gt;&gt;&gt; from dateutil.parser import *
&gt;&gt;&gt; from dateutil.tz import *
&gt;&gt;&gt; from datetime import *
&gt;&gt;&gt; TZOFFSETS = {"BRST": -10800}
&gt;&gt;&gt; BRSTTZ = tzoffset(-10800, "BRST")
&gt;&gt;&gt; DEFAULT = datetime(2003, 9, 25)</pre><span class="anchor" id="line-1364"></span><span class="anchor" id="line-1365"></span><p class="line862">Some simple examples based on the <tt>date</tt> command, using the <span class="anchor" id="line-1366"></span><tt>TZOFFSET</tt> dictionary to provide the BRST timezone offset. <span class="anchor" id="line-1367"></span><span class="anchor" id="line-1368"></span><span class="anchor" id="line-1369"></span><span class="anchor" id="line-1370"></span><span class="anchor" id="line-1371"></span><span class="anchor" id="line-1372"></span><span class="anchor" id="line-1373"></span><span class="anchor" id="line-1374"></span><span class="anchor" id="line-1375"></span></p><pre>&gt;&gt;&gt; parse("Thu Sep 25 10:36:28 BRST 2003", tzinfos=TZOFFSETS)
datetime.datetime(2003, 9, 25, 10, 36, 28,
                  tzinfo=tzoffset('BRST', -10800))

&gt;&gt;&gt; parse("2003 10:36:28 BRST 25 Sep Thu", tzinfos=TZOFFSETS)
datetime.datetime(2003, 9, 25, 10, 36, 28,
                  tzinfo=tzoffset('BRST', -10800))</pre><span class="anchor" id="line-1376"></span><span class="anchor" id="line-1377"></span><p class="line874">Notice that since BRST is my local timezone, parsing it without <span class="anchor" id="line-1378"></span>further timezone settings will yield a <tt>tzlocal</tt> timezone. <span class="anchor" id="line-1379"></span><span class="anchor" id="line-1380"></span><span class="anchor" id="line-1381"></span><span class="anchor" id="line-1382"></span></p><pre>&gt;&gt;&gt; parse("Thu Sep 25 10:36:28 BRST 2003")
datetime.datetime(2003, 9, 25, 10, 36, 28, tzinfo=tzlocal())</pre><span class="anchor" id="line-1383"></span><span class="anchor" id="line-1384"></span><p class="line874">We can also ask to ignore the timezone explicitly: <span class="anchor" id="line-1385"></span><span class="anchor" id="line-1386"></span><span class="anchor" id="line-1387"></span><span class="anchor" id="line-1388"></span></p><pre>&gt;&gt;&gt; parse("Thu Sep 25 10:36:28 BRST 2003", ignoretz=True)
datetime.datetime(2003, 9, 25, 10, 36, 28)</pre><span class="anchor" id="line-1389"></span><span class="anchor" id="line-1390"></span><p class="line874">That's the same as processing a string without timezone: <span class="anchor" id="line-1391"></span><span class="anchor" id="line-1392"></span><span class="anchor" id="line-1393"></span><span class="anchor" id="line-1394"></span></p><pre>&gt;&gt;&gt; parse("Thu Sep 25 10:36:28 2003")
datetime.datetime(2003, 9, 25, 10, 36, 28)</pre><span class="anchor" id="line-1395"></span><span class="anchor" id="line-1396"></span><p class="line862">Without the year, but passing our <tt>DEFAULT</tt> datetime to return <span class="anchor" id="line-1397"></span>the same year, no mattering what year we currently are in: <span class="anchor" id="line-1398"></span><span class="anchor" id="line-1399"></span><span class="anchor" id="line-1400"></span><span class="anchor" id="line-1401"></span></p><pre>&gt;&gt;&gt; parse("Thu Sep 25 10:36:28", default=DEFAULT)
datetime.datetime(2003, 9, 25, 10, 36, 28)</pre><span class="anchor" id="line-1402"></span><span class="anchor" id="line-1403"></span><p class="line874">Strip it further: <span class="anchor" id="line-1404"></span><span class="anchor" id="line-1405"></span><span class="anchor" id="line-1406"></span><span class="anchor" id="line-1407"></span><span class="anchor" id="line-1408"></span><span class="anchor" id="line-1409"></span><span class="anchor" id="line-1410"></span><span class="anchor" id="line-1411"></span><span class="anchor" id="line-1412"></span><span class="anchor" id="line-1413"></span><span class="anchor" id="line-1414"></span><span class="anchor" id="line-1415"></span><span class="anchor" id="line-1416"></span><span class="anchor" id="line-1417"></span></p><pre>&gt;&gt;&gt; parse("Thu Sep 10:36:28", default=DEFAULT)
datetime.datetime(2003, 9, 25, 10, 36, 28)

&gt;&gt;&gt; parse("Thu 10:36:28", default=DEFAULT)
datetime.datetime(2003, 9, 25, 10, 36, 28)

&gt;&gt;&gt; parse("Thu 10:36", default=DEFAULT)
datetime.datetime(2003, 9, 25, 10, 36)

&gt;&gt;&gt; parse("10:36", default=DEFAULT)
datetime.datetime(2003, 9, 25, 10, 36)
&gt;&gt;&gt; </pre><span class="anchor" id="line-1418"></span><span class="anchor" id="line-1419"></span><p class="line874">Strip in a different way: <span class="anchor" id="line-1420"></span><span class="anchor" id="line-1421"></span><span class="anchor" id="line-1422"></span><span class="anchor" id="line-1423"></span><span class="anchor" id="line-1424"></span><span class="anchor" id="line-1425"></span><span class="anchor" id="line-1426"></span><span class="anchor" id="line-1427"></span><span class="anchor" id="line-1428"></span><span class="anchor" id="line-1429"></span><span class="anchor" id="line-1430"></span><span class="anchor" id="line-1431"></span><span class="anchor" id="line-1432"></span><span class="anchor" id="line-1433"></span><span class="anchor" id="line-1434"></span><span class="anchor" id="line-1435"></span></p><pre>&gt;&gt;&gt; parse("Thu Sep 25 2003")
datetime.datetime(2003, 9, 25, 0, 0)

&gt;&gt;&gt; parse("Sep 25 2003")
datetime.datetime(2003, 9, 25, 0, 0)

&gt;&gt;&gt; parse("Sep 2003", default=DEFAULT)
datetime.datetime(2003, 9, 25, 0, 0)

&gt;&gt;&gt; parse("Sep", default=DEFAULT)
datetime.datetime(2003, 9, 25, 0, 0)

&gt;&gt;&gt; parse("2003", default=DEFAULT)
datetime.datetime(2003, 9, 25, 0, 0)</pre><span class="anchor" id="line-1436"></span><span class="anchor" id="line-1437"></span><p class="line862">Another format, based on <tt>date&nbsp;-R</tt> (RFC822): <span class="anchor" id="line-1438"></span><span class="anchor" id="line-1439"></span><span class="anchor" id="line-1440"></span><span class="anchor" id="line-1441"></span><span class="anchor" id="line-1442"></span></p><pre>&gt;&gt;&gt; parse("Thu, 25 Sep 2003 10:49:41 -0300")
datetime.datetime(2003, 9, 25, 10, 49, 41,
                  tzinfo=tzoffset(None, -10800))</pre><span class="anchor" id="line-1443"></span><span class="anchor" id="line-1444"></span><p class="line874">ISO format: <span class="anchor" id="line-1445"></span><span class="anchor" id="line-1446"></span><span class="anchor" id="line-1447"></span><span class="anchor" id="line-1448"></span><span class="anchor" id="line-1449"></span></p><pre>&gt;&gt;&gt; parse("2003-09-25T10:49:41.5-03:00")
datetime.datetime(2003, 9, 25, 10, 49, 41, 500000,
                  tzinfo=tzoffset(None, -10800))</pre><span class="anchor" id="line-1450"></span><span class="anchor" id="line-1451"></span><p class="line874">Some variations: <span class="anchor" id="line-1452"></span><span class="anchor" id="line-1453"></span><span class="anchor" id="line-1454"></span><span class="anchor" id="line-1455"></span><span class="anchor" id="line-1456"></span><span class="anchor" id="line-1457"></span><span class="anchor" id="line-1458"></span><span class="anchor" id="line-1459"></span><span class="anchor" id="line-1460"></span><span class="anchor" id="line-1461"></span><span class="anchor" id="line-1462"></span><span class="anchor" id="line-1463"></span><span class="anchor" id="line-1464"></span></p><pre>&gt;&gt;&gt; parse("2003-09-25T10:49:41")
datetime.datetime(2003, 9, 25, 10, 49, 41)

&gt;&gt;&gt; parse("2003-09-25T10:49")
datetime.datetime(2003, 9, 25, 10, 49)

&gt;&gt;&gt; parse("2003-09-25T10")
datetime.datetime(2003, 9, 25, 10, 0)

&gt;&gt;&gt; parse("2003-09-25")
datetime.datetime(2003, 9, 25, 0, 0)</pre><span class="anchor" id="line-1465"></span><span class="anchor" id="line-1466"></span><p class="line874">ISO format, without separators: <span class="anchor" id="line-1467"></span><span class="anchor" id="line-1468"></span><span class="anchor" id="line-1469"></span><span class="anchor" id="line-1470"></span><span class="anchor" id="line-1471"></span><span class="anchor" id="line-1472"></span><span class="anchor" id="line-1473"></span><span class="anchor" id="line-1474"></span><span class="anchor" id="line-1475"></span><span class="anchor" id="line-1476"></span><span class="anchor" id="line-1477"></span><span class="anchor" id="line-1478"></span><span class="anchor" id="line-1479"></span><span class="anchor" id="line-1480"></span><span class="anchor" id="line-1481"></span><span class="anchor" id="line-1482"></span><span class="anchor" id="line-1483"></span><span class="anchor" id="line-1484"></span><span class="anchor" id="line-1485"></span><span class="anchor" id="line-1486"></span><span class="anchor" id="line-1487"></span></p><pre>&gt;&gt;&gt; parse("20030925T104941.5-0300")
datetime.datetime(2003, 9, 25, 10, 49, 41, 500000,
                  tzinfo=tzinfo=tzoffset(None, -10800))

&gt;&gt;&gt; parse("20030925T104941-0300")
datetime.datetime(2003, 9, 25, 10, 49, 41,
                  tzinfo=tzoffset(None, -10800))

&gt;&gt;&gt; parse("20030925T104941")
datetime.datetime(2003, 9, 25, 10, 49, 41)

&gt;&gt;&gt; parse("20030925T1049")
datetime.datetime(2003, 9, 25, 10, 49)

&gt;&gt;&gt; parse("20030925T10")
datetime.datetime(2003, 9, 25, 10, 0)

&gt;&gt;&gt; parse("20030925")
datetime.datetime(2003, 9, 25, 0, 0)</pre><span class="anchor" id="line-1488"></span><span class="anchor" id="line-1489"></span><p class="line874">Everything together. <span class="anchor" id="line-1490"></span><span class="anchor" id="line-1491"></span><span class="anchor" id="line-1492"></span><span class="anchor" id="line-1493"></span><span class="anchor" id="line-1494"></span><span class="anchor" id="line-1495"></span></p><pre>&gt;&gt;&gt; parse("199709020900")
datetime.datetime(1997, 9, 2, 9, 0)
&gt;&gt;&gt; parse("19970902090059")
datetime.datetime(1997, 9, 2, 9, 0, 59)</pre><span class="anchor" id="line-1496"></span><span class="anchor" id="line-1497"></span><p class="line874">Different date orderings: <span class="anchor" id="line-1498"></span><span class="anchor" id="line-1499"></span><span class="anchor" id="line-1500"></span><span class="anchor" id="line-1501"></span><span class="anchor" id="line-1502"></span><span class="anchor" id="line-1503"></span><span class="anchor" id="line-1504"></span><span class="anchor" id="line-1505"></span><span class="anchor" id="line-1506"></span><span class="anchor" id="line-1507"></span><span class="anchor" id="line-1508"></span><span class="anchor" id="line-1509"></span><span class="anchor" id="line-1510"></span><span class="anchor" id="line-1511"></span><span class="anchor" id="line-1512"></span><span class="anchor" id="line-1513"></span><span class="anchor" id="line-1514"></span><span class="anchor" id="line-1515"></span><span class="anchor" id="line-1516"></span></p><pre>&gt;&gt;&gt; parse("2003-09-25")
datetime.datetime(2003, 9, 25, 0, 0)

&gt;&gt;&gt; parse("2003-Sep-25")
datetime.datetime(2003, 9, 25, 0, 0)

&gt;&gt;&gt; parse("25-Sep-2003")
datetime.datetime(2003, 9, 25, 0, 0)

&gt;&gt;&gt; parse("Sep-25-2003")
datetime.datetime(2003, 9, 25, 0, 0)

&gt;&gt;&gt; parse("09-25-2003")
datetime.datetime(2003, 9, 25, 0, 0)

&gt;&gt;&gt; parse("25-09-2003")
datetime.datetime(2003, 9, 25, 0, 0)</pre><span class="anchor" id="line-1517"></span><span class="anchor" id="line-1518"></span><p class="line874">Check some ambiguous dates: <span class="anchor" id="line-1519"></span><span class="anchor" id="line-1520"></span><span class="anchor" id="line-1521"></span><span class="anchor" id="line-1522"></span><span class="anchor" id="line-1523"></span><span class="anchor" id="line-1524"></span><span class="anchor" id="line-1525"></span><span class="anchor" id="line-1526"></span><span class="anchor" id="line-1527"></span><span class="anchor" id="line-1528"></span><span class="anchor" id="line-1529"></span><span class="anchor" id="line-1530"></span><span class="anchor" id="line-1531"></span></p><pre>&gt;&gt;&gt; parse("10-09-2003")
datetime.datetime(2003, 10, 9, 0, 0)

&gt;&gt;&gt; parse("10-09-2003", dayfirst=True)
datetime.datetime(2003, 9, 10, 0, 0)

&gt;&gt;&gt; parse("10-09-03")
datetime.datetime(2003, 10, 9, 0, 0)

&gt;&gt;&gt; parse("10-09-03", yearfirst=True)
datetime.datetime(2010, 9, 3, 0, 0)</pre><span class="anchor" id="line-1532"></span><span class="anchor" id="line-1533"></span><p class="line874">Other date separators are allowed: <span class="anchor" id="line-1534"></span><span class="anchor" id="line-1535"></span><span class="anchor" id="line-1536"></span><span class="anchor" id="line-1537"></span><span class="anchor" id="line-1538"></span><span class="anchor" id="line-1539"></span><span class="anchor" id="line-1540"></span></p><pre>&gt;&gt;&gt; parse("2003.Sep.25")
datetime.datetime(2003, 9, 25, 0, 0)

&gt;&gt;&gt; parse("2003/09/25")
datetime.datetime(2003, 9, 25, 0, 0)</pre><span class="anchor" id="line-1541"></span><span class="anchor" id="line-1542"></span><p class="line874">Even with spaces: <span class="anchor" id="line-1543"></span><span class="anchor" id="line-1544"></span><span class="anchor" id="line-1545"></span><span class="anchor" id="line-1546"></span><span class="anchor" id="line-1547"></span><span class="anchor" id="line-1548"></span><span class="anchor" id="line-1549"></span></p><pre>&gt;&gt;&gt; parse("2003 Sep 25")
datetime.datetime(2003, 9, 25, 0, 0)

&gt;&gt;&gt; parse("2003 09 25")
datetime.datetime(2003, 9, 25, 0, 0)</pre><span class="anchor" id="line-1550"></span><span class="anchor" id="line-1551"></span><p class="line874">Hours with letters work: <span class="anchor" id="line-1552"></span><span class="anchor" id="line-1553"></span><span class="anchor" id="line-1554"></span><span class="anchor" id="line-1555"></span><span class="anchor" id="line-1556"></span><span class="anchor" id="line-1557"></span><span class="anchor" id="line-1558"></span><span class="anchor" id="line-1559"></span><span class="anchor" id="line-1560"></span><span class="anchor" id="line-1561"></span><span class="anchor" id="line-1562"></span><span class="anchor" id="line-1563"></span><span class="anchor" id="line-1564"></span><span class="anchor" id="line-1565"></span><span class="anchor" id="line-1566"></span><span class="anchor" id="line-1567"></span></p><pre>&gt;&gt;&gt; parse("10h36m28.5s", default=DEFAULT)
datetime.datetime(2003, 9, 25, 10, 36, 28, 500000)

&gt;&gt;&gt; parse("01s02h03m", default=DEFAULT)
datetime.datetime(2003, 9, 25, 2, 3, 1)

&gt;&gt;&gt; parse("01h02m03", default=DEFAULT)
datetime.datetime(2003, 9, 3, 1, 2)

&gt;&gt;&gt; parse("01h02", default=DEFAULT)
datetime.datetime(2003, 9, 2, 1, 0)

&gt;&gt;&gt; parse("01h02s", default=DEFAULT)
datetime.datetime(2003, 9, 25, 1, 0, 2)</pre><span class="anchor" id="line-1568"></span><span class="anchor" id="line-1569"></span><p class="line874">With AM/PM: <span class="anchor" id="line-1570"></span><span class="anchor" id="line-1571"></span><span class="anchor" id="line-1572"></span><span class="anchor" id="line-1573"></span><span class="anchor" id="line-1574"></span><span class="anchor" id="line-1575"></span><span class="anchor" id="line-1576"></span><span class="anchor" id="line-1577"></span><span class="anchor" id="line-1578"></span><span class="anchor" id="line-1579"></span><span class="anchor" id="line-1580"></span><span class="anchor" id="line-1581"></span><span class="anchor" id="line-1582"></span></p><pre>&gt;&gt;&gt; parse("10h am", default=DEFAULT)
datetime.datetime(2003, 9, 25, 10, 0)

&gt;&gt;&gt; parse("10pm", default=DEFAULT)
datetime.datetime(2003, 9, 25, 22, 0)

&gt;&gt;&gt; parse("12:00am", default=DEFAULT)
datetime.datetime(2003, 9, 25, 0, 0)

&gt;&gt;&gt; parse("12pm", default=DEFAULT)
datetime.datetime(2003, 9, 25, 12, 0)</pre><span class="anchor" id="line-1583"></span><span class="anchor" id="line-1584"></span><p class="line862">Some special treating for <em>pertain</em> relations: <span class="anchor" id="line-1585"></span><span class="anchor" id="line-1586"></span><span class="anchor" id="line-1587"></span><span class="anchor" id="line-1588"></span><span class="anchor" id="line-1589"></span><span class="anchor" id="line-1590"></span><span class="anchor" id="line-1591"></span></p><pre>&gt;&gt;&gt; parse("Sep 03", default=DEFAULT)
datetime.datetime(2003, 9, 3, 0, 0)

&gt;&gt;&gt; parse("Sep of 03", default=DEFAULT)
datetime.datetime(2003, 9, 25, 0, 0)</pre><span class="anchor" id="line-1592"></span><span class="anchor" id="line-1593"></span><p class="line874">Fuzzy parsing: <span class="anchor" id="line-1594"></span><span class="anchor" id="line-1595"></span><span class="anchor" id="line-1596"></span><span class="anchor" id="line-1597"></span><span class="anchor" id="line-1598"></span><span class="anchor" id="line-1599"></span><span class="anchor" id="line-1600"></span></p><pre>&gt;&gt;&gt; s = "Today is 25 of September of 2003, exactly " \
...     "at 10:49:41 with timezone -03:00."
&gt;&gt;&gt; parse(s, fuzzy=True)
datetime.datetime(2003, 9, 25, 10, 49, 41,
                  tzinfo=tzoffset(None, -10800))</pre><span class="anchor" id="line-1601"></span><span class="anchor" id="line-1602"></span><p class="line874">Other random formats: <span class="anchor" id="line-1603"></span><span class="anchor" id="line-1604"></span><span class="anchor" id="line-1605"></span><span class="anchor" id="line-1606"></span><span class="anchor" id="line-1607"></span><span class="anchor" id="line-1608"></span><span class="anchor" id="line-1609"></span><span class="anchor" id="line-1610"></span><span class="anchor" id="line-1611"></span><span class="anchor" id="line-1612"></span><span class="anchor" id="line-1613"></span><span class="anchor" id="line-1614"></span><span class="anchor" id="line-1615"></span><span class="anchor" id="line-1616"></span><span class="anchor" id="line-1617"></span><span class="anchor" id="line-1618"></span><span class="anchor" id="line-1619"></span><span class="anchor" id="line-1620"></span><span class="anchor" id="line-1621"></span></p><pre>&gt;&gt;&gt; parse("Wed, July 10, '96")
datetime.datetime(1996, 7, 10, 0, 0)

&gt;&gt;&gt; parse("1996.07.10 AD at 15:08:56 PDT", ignoretz=True)
datetime.datetime(1996, 7, 10, 15, 8, 56)

&gt;&gt;&gt; parse("Tuesday, April 12, 1952 AD 3:30:42pm PST", ignoretz=True)
datetime.datetime(1952, 4, 12, 15, 30, 42)

&gt;&gt;&gt; parse("November 5, 1994, 8:15:30 am EST", ignoretz=True)
datetime.datetime(1994, 11, 5, 8, 15, 30)

&gt;&gt;&gt; parse("3rd of May 2001")
datetime.datetime(2001, 5, 3, 0, 0)

&gt;&gt;&gt; parse("5:50 A.M. on June 13, 1990")
datetime.datetime(1990, 6, 13, 5, 50)</pre><span class="anchor" id="line-1622"></span><span class="anchor" id="line-1623"></span><p class="line867">
</p><h3 id="head-8863c4fc47132b106fcb00b9153e3ac0ab486a0d">easter</h3>
<span class="anchor" id="line-1624"></span><p class="line874">This module offers a generic easter computing method for <span class="anchor" id="line-1625"></span>any given year, using Western, Orthodox or Julian algorithms. <span class="anchor" id="line-1626"></span><span class="anchor" id="line-1627"></span></p><p class="line867">
</p><h4 id="head-13c68d26cb27abbe375f9b50e93733201d7bfcf9">easter() function</h4>
<span class="anchor" id="line-1628"></span><p class="line874">This method was ported from the work done by <span class="anchor" id="line-1629"></span><a class="http" href="http://users.chariot.net.au/~gmarts/eastalg.htm">GM Arts</a>, <span class="anchor" id="line-1630"></span>on top of the algorithm by <span class="anchor" id="line-1631"></span><a class="http" href="http://www.tondering.dk/claus/calendar.html">Claus Tondering</a>, <span class="anchor" id="line-1632"></span>which was based in part on the algorithm of Ouding (1940), <span class="anchor" id="line-1633"></span>as quoted in "Explanatory Supplement to the Astronomical <span class="anchor" id="line-1634"></span>Almanac", P.  Kenneth Seidelmann, editor. <span class="anchor" id="line-1635"></span><span class="anchor" id="line-1636"></span></p><p class="line874">This algorithm implements three different easter <span class="anchor" id="line-1637"></span>calculation methods: <span class="anchor" id="line-1638"></span><span class="anchor" id="line-1639"></span></p><ol type="1"><li>Original calculation in Julian calendar, valid in dates after 326 AD <span class="anchor" id="line-1640"></span></li><li>Original method, with date converted to Gregorian calendar, valid in years 1583 to 4099 <span class="anchor" id="line-1641"></span></li><li>Revised method, in Gregorian calendar, valid in years 1583 to 4099 as well <span class="anchor" id="line-1642"></span><span class="anchor" id="line-1643"></span></li></ol><p class="line874">These methods are represented by the constants: <span class="anchor" id="line-1644"></span><span class="anchor" id="line-1645"></span><span class="anchor" id="line-1646"></span><span class="anchor" id="line-1647"></span><span class="anchor" id="line-1648"></span></p><pre>EASTER_JULIAN   = 1
EASTER_ORTHODOX = 2
EASTER_WESTERN  = 3</pre><span class="anchor" id="line-1649"></span><span class="anchor" id="line-1650"></span><p class="line874">The default method is method 3. <span class="anchor" id="line-1651"></span><span class="anchor" id="line-1652"></span></p><p class="line867">
</p><h3 id="head-587bd3efc48f897f55c179abc520a34330ee0a62">tz</h3>
<span class="anchor" id="line-1653"></span><p class="line874">This module offers timezone implementations subclassing <span class="anchor" id="line-1654"></span>the abstract <tt>datetime.tzinfo</tt> type. There are <span class="anchor" id="line-1655"></span>classes to handle <a class="http" href="http://www.twinsun.com/tz/tz-link.htm">tzfile</a> <span class="anchor" id="line-1656"></span>format files (usually are in /etc/localtime, <span class="anchor" id="line-1657"></span>/usr/share/zoneinfo, etc), TZ environment string (in all <span class="anchor" id="line-1658"></span>known formats), given ranges (with help from relative <span class="anchor" id="line-1659"></span>deltas), local machine timezone, fixed offset timezone, <span class="anchor" id="line-1660"></span>and UTC timezone. <span class="anchor" id="line-1661"></span><span class="anchor" id="line-1662"></span></p><p class="line867">
</p><h4 id="head-22a9091046e360a71feb49de042ce9c4caff71c6">tzutc type</h4>
<span class="anchor" id="line-1663"></span><p class="line874">This type implements a basic UTC timezone. The constructor of this <span class="anchor" id="line-1664"></span>type accepts no parameters. <span class="anchor" id="line-1665"></span><span class="anchor" id="line-1666"></span></p><p class="line867">
</p><h4 id="head-c3435483cc30bebd143f863aafd67fd8ee777bde">tzutc examples</h4>
<span class="anchor" id="line-1667"></span><p class="line867"><span class="anchor" id="line-1668"></span><span class="anchor" id="line-1669"></span><span class="anchor" id="line-1670"></span><span class="anchor" id="line-1671"></span><span class="anchor" id="line-1672"></span><span class="anchor" id="line-1673"></span><span class="anchor" id="line-1674"></span><span class="anchor" id="line-1675"></span><span class="anchor" id="line-1676"></span><span class="anchor" id="line-1677"></span><span class="anchor" id="line-1678"></span><span class="anchor" id="line-1679"></span></p><pre>&gt;&gt;&gt; from datetime import *
&gt;&gt;&gt; from dateutil.tz import *

&gt;&gt;&gt; datetime.now()
datetime.datetime(2003, 9, 27, 9, 40, 1, 521290)

&gt;&gt;&gt; datetime.now(tzutc())
datetime.datetime(2003, 9, 27, 12, 40, 12, 156379, tzinfo=tzutc())

&gt;&gt;&gt; datetime.now(tzutc()).tzname()
'UTC'</pre><span class="anchor" id="line-1680"></span><span class="anchor" id="line-1681"></span><p class="line867">
</p><h4 id="head-8bf499d888b70bc300c6c8820dc123326197c00f">tzoffset type</h4>
<span class="anchor" id="line-1682"></span><p class="line874">This type implements a fixed offset timezone, with no <span class="anchor" id="line-1683"></span>support to daylight saving times. Here is the prototype of the <span class="anchor" id="line-1684"></span>type constructor: <span class="anchor" id="line-1685"></span><span class="anchor" id="line-1686"></span><span class="anchor" id="line-1687"></span></p><pre>tzoffset(name, offset)</pre><span class="anchor" id="line-1688"></span><span class="anchor" id="line-1689"></span><p class="line862">The <tt>name</tt> parameter may be optionally set to <tt>None</tt>, and <span class="anchor" id="line-1690"></span><tt>offset</tt> must be given in seconds. <span class="anchor" id="line-1691"></span><span class="anchor" id="line-1692"></span></p><p class="line867">
</p><h4 id="head-58c6b63a94c52a232da0868e87d4df54c97ec301">tzoffset examples</h4>
<span class="anchor" id="line-1693"></span><p class="line867"><span class="anchor" id="line-1694"></span><span class="anchor" id="line-1695"></span><span class="anchor" id="line-1696"></span><span class="anchor" id="line-1697"></span><span class="anchor" id="line-1698"></span><span class="anchor" id="line-1699"></span><span class="anchor" id="line-1700"></span><span class="anchor" id="line-1701"></span><span class="anchor" id="line-1702"></span><span class="anchor" id="line-1703"></span><span class="anchor" id="line-1704"></span><span class="anchor" id="line-1705"></span><span class="anchor" id="line-1706"></span><span class="anchor" id="line-1707"></span></p><pre>&gt;&gt;&gt; from datetime import *
&gt;&gt;&gt; from dateutil.tz import *

&gt;&gt;&gt; datetime.now(tzoffset("BRST", -10800))
datetime.datetime(2003, 9, 27, 9, 52, 43, 624904,
                  tzinfo=tzinfo=tzoffset('BRST', -10800))

&gt;&gt;&gt; datetime.now(tzoffset("BRST", -10800)).tzname()
'BRST'

&gt;&gt;&gt; datetime.now(tzoffset("BRST", -10800)).astimezone(tzutc())
datetime.datetime(2003, 9, 27, 12, 53, 11, 446419,
                  tzinfo=tzutc())</pre><span class="anchor" id="line-1708"></span><span class="anchor" id="line-1709"></span><p class="line867">
</p><h4 id="head-5fb12f4538c5a2fd83f87eea8e6c0ddd47f8b4b0">tzlocal type</h4>
<span class="anchor" id="line-1710"></span><p class="line874">This type implements timezone settings as known by the <span class="anchor" id="line-1711"></span>operating system. The constructor of this type accepts no <span class="anchor" id="line-1712"></span>parameters. <span class="anchor" id="line-1713"></span><span class="anchor" id="line-1714"></span></p><p class="line867">
</p><h4 id="head-50221b5226c3ccb97daa06ea7d9abf0533ec0310">tzlocal examples</h4>
<span class="anchor" id="line-1715"></span><p class="line867"><span class="anchor" id="line-1716"></span><span class="anchor" id="line-1717"></span><span class="anchor" id="line-1718"></span><span class="anchor" id="line-1719"></span><span class="anchor" id="line-1720"></span><span class="anchor" id="line-1721"></span><span class="anchor" id="line-1722"></span><span class="anchor" id="line-1723"></span><span class="anchor" id="line-1724"></span><span class="anchor" id="line-1725"></span><span class="anchor" id="line-1726"></span><span class="anchor" id="line-1727"></span><span class="anchor" id="line-1728"></span><span class="anchor" id="line-1729"></span></p><pre>&gt;&gt;&gt; from datetime import *
&gt;&gt;&gt; from dateutil.tz import *

&gt;&gt;&gt; datetime.now(tzlocal())
datetime.datetime(2003, 9, 27, 10, 1, 43, 673605,
                  tzinfo=tzlocal())

&gt;&gt;&gt; datetime.now(tzlocal()).tzname()
'BRST'

&gt;&gt;&gt; datetime.now(tzlocal()).astimezone(tzoffset(None, 0))
datetime.datetime(2003, 9, 27, 13, 3, 0, 11493,
                  tzinfo=tzoffset(None, 0))</pre><span class="anchor" id="line-1730"></span><span class="anchor" id="line-1731"></span><p class="line867">
</p><h4 id="head-d05e8740f6f1455afac35ec3d5d97e1d548baac4">tzstr type</h4>
<span class="anchor" id="line-1732"></span><p class="line874">This type implements timezone settings extracted from a <span class="anchor" id="line-1733"></span>string in known TZ environment variable formats. Here is the prototype <span class="anchor" id="line-1734"></span>of the constructor: <span class="anchor" id="line-1735"></span><span class="anchor" id="line-1736"></span><span class="anchor" id="line-1737"></span></p><pre>tzstr(str)</pre><span class="anchor" id="line-1738"></span><span class="anchor" id="line-1739"></span><p class="line867">
</p><h4 id="head-49eeb37a97530e6f94c4ef861ad0761b8165a2c2">tzstr examples</h4>
<span class="anchor" id="line-1740"></span><p class="line874">Here are examples of the recognized formats: <span class="anchor" id="line-1741"></span><span class="anchor" id="line-1742"></span></p><ul><li><p class="line891"><tt>EST5EDT</tt> <span class="anchor" id="line-1743"></span></p></li><li><p class="line891"><tt>EST5EDT,4,0,6,7200,10,0,26,7200,3600</tt> <span class="anchor" id="line-1744"></span></p></li><li><p class="line891"><tt>EST5EDT,4,1,0,7200,10,-1,0,7200,3600</tt> <span class="anchor" id="line-1745"></span></p></li><li><p class="line891"><tt>EST5EDT4,M4.1.0/02:00:00,M10-5-0/02:00</tt> <span class="anchor" id="line-1746"></span></p></li><li><p class="line891"><tt>EST5EDT4,95/02:00:00,298/02:00</tt> <span class="anchor" id="line-1747"></span></p></li><li><p class="line891"><tt>EST5EDT4,J96/02:00:00,J299/02:00</tt> <span class="anchor" id="line-1748"></span><span class="anchor" id="line-1749"></span></p></li></ul><p class="line874">Notice that if daylight information is not present, but a <span class="anchor" id="line-1750"></span>daylight abbreviation was provided, <tt>tzstr</tt> will follow the <span class="anchor" id="line-1751"></span>convention of using the first sunday of April to start daylight <span class="anchor" id="line-1752"></span>saving, and the last sunday of October to end it. If start or <span class="anchor" id="line-1753"></span>end time is not present, 2AM will be used, and if the daylight <span class="anchor" id="line-1754"></span>offset is not present, the standard offset plus one hour will <span class="anchor" id="line-1755"></span>be used. This convention is the same as used in the GNU libc. <span class="anchor" id="line-1756"></span><span class="anchor" id="line-1757"></span></p><p class="line874">This also means that some of the above examples are exactly <span class="anchor" id="line-1758"></span>equivalent, and all of these examples are equivalent <span class="anchor" id="line-1759"></span>in the year of 2003. <span class="anchor" id="line-1760"></span><span class="anchor" id="line-1761"></span></p><p class="line874">Here is the example mentioned in the <span class="anchor" id="line-1762"></span><a class="http" href="http://www.python.org/doc/current/lib/module-time.html">time module documentation</a>. <span class="anchor" id="line-1763"></span><span class="anchor" id="line-1764"></span><span class="anchor" id="line-1765"></span><span class="anchor" id="line-1766"></span><span class="anchor" id="line-1767"></span><span class="anchor" id="line-1768"></span><span class="anchor" id="line-1769"></span><span class="anchor" id="line-1770"></span><span class="anchor" id="line-1771"></span><span class="anchor" id="line-1772"></span></p><pre>&gt;&gt;&gt; os.environ['TZ'] = 'EST+05EDT,M4.1.0,M10.5.0'
&gt;&gt;&gt; time.tzset()
&gt;&gt;&gt; time.strftime('%X %x %Z')
'02:07:36 05/08/03 EDT'
&gt;&gt;&gt; os.environ['TZ'] = 'AEST-10AEDT-11,M10.5.0,M3.5.0'
&gt;&gt;&gt; time.tzset()
&gt;&gt;&gt; time.strftime('%X %x %Z')
'16:08:12 05/08/03 AEST'</pre><span class="anchor" id="line-1773"></span><span class="anchor" id="line-1774"></span><p class="line862">And here is an example showing the same information using <tt>tzstr</tt>, <span class="anchor" id="line-1775"></span>without touching system settings. <span class="anchor" id="line-1776"></span><span class="anchor" id="line-1777"></span><span class="anchor" id="line-1778"></span><span class="anchor" id="line-1779"></span><span class="anchor" id="line-1780"></span><span class="anchor" id="line-1781"></span><span class="anchor" id="line-1782"></span><span class="anchor" id="line-1783"></span><span class="anchor" id="line-1784"></span></p><pre>&gt;&gt;&gt; tz1 = tzstr('EST+05EDT,M4.1.0,M10.5.0')
&gt;&gt;&gt; tz2 = tzstr('AEST-10AEDT-11,M10.5.0,M3.5.0')
&gt;&gt;&gt; dt = datetime(2003, 5, 8, 2, 7, 36, tzinfo=tz1)
&gt;&gt;&gt; dt.strftime('%X %x %Z')
'02:07:36 05/08/03 EDT'
&gt;&gt;&gt; dt.astimezone(tz2).strftime('%X %x %Z')
'16:07:36 05/08/03 AEST'</pre><span class="anchor" id="line-1785"></span><span class="anchor" id="line-1786"></span><p class="line874">Are these really equivalent? <span class="anchor" id="line-1787"></span><span class="anchor" id="line-1788"></span><span class="anchor" id="line-1789"></span><span class="anchor" id="line-1790"></span></p><pre>&gt;&gt;&gt; tzstr('EST5EDT') == tzstr('EST5EDT,4,1,0,7200,10,-1,0,7200,3600')
True</pre><span class="anchor" id="line-1791"></span><span class="anchor" id="line-1792"></span><p class="line874">Check the daylight limit. <span class="anchor" id="line-1793"></span><span class="anchor" id="line-1794"></span><span class="anchor" id="line-1795"></span><span class="anchor" id="line-1796"></span><span class="anchor" id="line-1797"></span><span class="anchor" id="line-1798"></span><span class="anchor" id="line-1799"></span><span class="anchor" id="line-1800"></span><span class="anchor" id="line-1801"></span><span class="anchor" id="line-1802"></span></p><pre>&gt;&gt;&gt; datetime(2003, 4, 6, 1, 59, tzinfo=tz).tzname()
'EST'
&gt;&gt;&gt; datetime(2003, 4, 6, 2, 00, tzinfo=tz).tzname()
'EDT'
&gt;&gt;&gt; datetime(2003, 10, 26, 0, 59, tzinfo=tz).tzname()
'EDT'
&gt;&gt;&gt; datetime(2003, 10, 26, 1, 00, tzinfo=tz).tzname()
'EST'</pre><p class="line874">  <span class="anchor" id="line-1803"></span><span class="anchor" id="line-1804"></span></p><p class="line867">
</p><h4 id="head-7d8aeb285b0a41f7e86faa5740a8f3b5a5fc2bb5">tzrange type</h4>
<span class="anchor" id="line-1805"></span><p class="line862">This type offers the same functionality as the <tt>tzstr</tt> type, but <span class="anchor" id="line-1806"></span>instead of timezone strings, information is passed using <span class="anchor" id="line-1807"></span><tt>relativedelta</tt>s which are applied to a datetime set to the first <span class="anchor" id="line-1808"></span>day of the year. Here is the prototype of this type's constructor: <span class="anchor" id="line-1809"></span><span class="anchor" id="line-1810"></span><span class="anchor" id="line-1811"></span><span class="anchor" id="line-1812"></span></p><pre>tzrange(stdabbr, stdoffset=None, dstabbr=None, dstoffset=None,
        start=None, end=None):</pre><span class="anchor" id="line-1813"></span><span class="anchor" id="line-1814"></span><p class="line874">Offsets must be given in seconds. Information not provided will be <span class="anchor" id="line-1815"></span>set to the defaults, as explained in the <tt>tzstr</tt> section above. <span class="anchor" id="line-1816"></span><span class="anchor" id="line-1817"></span></p><p class="line867">
</p><h4 id="head-c224f7821e0117a34df2672112ea6ccee3073209">tzrange examples</h4>
<span class="anchor" id="line-1818"></span><p class="line867"><span class="anchor" id="line-1819"></span><span class="anchor" id="line-1820"></span><span class="anchor" id="line-1821"></span><span class="anchor" id="line-1822"></span><span class="anchor" id="line-1823"></span><span class="anchor" id="line-1824"></span><span class="anchor" id="line-1825"></span><span class="anchor" id="line-1826"></span><span class="anchor" id="line-1827"></span><span class="anchor" id="line-1828"></span><span class="anchor" id="line-1829"></span><span class="anchor" id="line-1830"></span><span class="anchor" id="line-1831"></span></p><pre>&gt;&gt;&gt; tzstr('EST5EDT') == tzrange("EST", -18000, "EDT")
True

&gt;&gt;&gt; from dateutil.relativedelta import *
&gt;&gt;&gt; range1 = tzrange("EST", -18000, "EDT")
&gt;&gt;&gt; range2 = tzrange("EST", -18000, "EDT", -14400,
...                  relativedelta(hours=+2, month=4, day=1,
                                   weekday=SU(+1)),
...                  relativedelta(hours=+1, month=10, day=31,
                                   weekday=SU(-1)))
&gt;&gt;&gt; tzstr('EST5EDT') == range1 == range2
True</pre><span class="anchor" id="line-1832"></span><span class="anchor" id="line-1833"></span><p class="line874">Notice a minor detail in the last example: while the DST should end <span class="anchor" id="line-1834"></span>at 2AM, the delta will catch 1AM. That's because the daylight saving <span class="anchor" id="line-1835"></span>time should end at 2AM standard time (the difference between STD and <span class="anchor" id="line-1836"></span>DST is 1h in the given example) instead of the DST time. That's how <span class="anchor" id="line-1837"></span>the <tt>tzinfo</tt> subtypes should deal with the extra hour that happens <span class="anchor" id="line-1838"></span>when going back to the standard time. Check <span class="anchor" id="line-1839"></span><a class="http" href="http://www.python.org/doc/current/lib/datetime-tzinfo.html">tzinfo documentation</a> <span class="anchor" id="line-1840"></span>for more information. <span class="anchor" id="line-1841"></span><span class="anchor" id="line-1842"></span></p><p class="line867">
</p><h4 id="head-4e4386d98006f1e3cb9290a04bff7e01e584505b">tzfile type</h4>
<span class="anchor" id="line-1843"></span><p class="line874">This type allows one to use tzfile(5) format timezone files to extract <span class="anchor" id="line-1844"></span>current and historical zone information. Here is the type constructor <span class="anchor" id="line-1845"></span>prototype: <span class="anchor" id="line-1846"></span><span class="anchor" id="line-1847"></span><span class="anchor" id="line-1848"></span></p><pre>tzfile(fileobj)</pre><span class="anchor" id="line-1849"></span><span class="anchor" id="line-1850"></span><p class="line862">Where <tt>fileobj</tt> is either a filename or a file-like object with <span class="anchor" id="line-1851"></span>a <tt>read()</tt> method. <span class="anchor" id="line-1852"></span><span class="anchor" id="line-1853"></span></p><p class="line867">
</p><h4 id="head-f1121b6d3ef2225b8dd55f61fd00c3773449e3cf">tzfile examples</h4>
<span class="anchor" id="line-1854"></span><p class="line867"><span class="anchor" id="line-1855"></span><span class="anchor" id="line-1856"></span><span class="anchor" id="line-1857"></span><span class="anchor" id="line-1858"></span><span class="anchor" id="line-1859"></span><span class="anchor" id="line-1860"></span><span class="anchor" id="line-1861"></span><span class="anchor" id="line-1862"></span><span class="anchor" id="line-1863"></span><span class="anchor" id="line-1864"></span><span class="anchor" id="line-1865"></span><span class="anchor" id="line-1866"></span><span class="anchor" id="line-1867"></span><span class="anchor" id="line-1868"></span></p><pre>&gt;&gt;&gt; tz = tzfile("/etc/localtime")
&gt;&gt;&gt; datetime.now(tz)
datetime.datetime(2003, 9, 27, 12, 3, 48, 392138,
                  tzinfo=tzfile('/etc/localtime'))

&gt;&gt;&gt; datetime.now(tz).astimezone(tzutc())
datetime.datetime(2003, 9, 27, 15, 3, 53, 70863,
                  tzinfo=tzutc())

&gt;&gt;&gt; datetime.now(tz).tzname()
'BRST'
&gt;&gt;&gt; datetime(2003, 1, 1, tzinfo=tz).tzname()
'BRDT'</pre><span class="anchor" id="line-1869"></span><span class="anchor" id="line-1870"></span><p class="line874">Check the daylight limit. <span class="anchor" id="line-1871"></span><span class="anchor" id="line-1872"></span><span class="anchor" id="line-1873"></span><span class="anchor" id="line-1874"></span><span class="anchor" id="line-1875"></span><span class="anchor" id="line-1876"></span><span class="anchor" id="line-1877"></span><span class="anchor" id="line-1878"></span><span class="anchor" id="line-1879"></span><span class="anchor" id="line-1880"></span><span class="anchor" id="line-1881"></span></p><pre>&gt;&gt;&gt; tz = tzfile('/usr/share/zoneinfo/EST5EDT')
&gt;&gt;&gt; datetime(2003, 4, 6, 1, 59, tzinfo=tz).tzname()
'EST'
&gt;&gt;&gt; datetime(2003, 4, 6, 2, 00, tzinfo=tz).tzname()
'EDT'
&gt;&gt;&gt; datetime(2003, 10, 26, 0, 59, tzinfo=tz).tzname()
'EDT'
&gt;&gt;&gt; datetime(2003, 10, 26, 1, 00, tzinfo=tz).tzname()
'EST'</pre><p class="line874">  <span class="anchor" id="line-1882"></span><span class="anchor" id="line-1883"></span></p><p class="line867">
</p><h4 id="head-d6166b61093628c0ac32d1d7a784ec93e1b70593">tzical type</h4>
<span class="anchor" id="line-1884"></span><p class="line874">This type is able to parse <span class="anchor" id="line-1885"></span><a class="ftp" href="ftp://ftp.rfc-editor.org/in-notes/rfc2445.txt">iCalendar</a> <span class="anchor" id="line-1886"></span>style <tt>VTIMEZONE</tt> sessions into a Python timezone object. <span class="anchor" id="line-1887"></span>The constuctor prototype is: <span class="anchor" id="line-1888"></span><span class="anchor" id="line-1889"></span><span class="anchor" id="line-1890"></span></p><pre>tzical(fileobj)</pre><span class="anchor" id="line-1891"></span><span class="anchor" id="line-1892"></span><p class="line862">Where <tt>fileobj</tt> is either a filename or a file-like object with <span class="anchor" id="line-1893"></span>a <tt>read()</tt> method. <span class="anchor" id="line-1894"></span><span class="anchor" id="line-1895"></span></p><p class="line867">
</p><h4 id="head-75bc1957f9db6525f8243c1ad47f41e43a3b5209">tzical methods</h4>
<span class="anchor" id="line-1896"></span><span class="anchor" id="line-1897"></span><dl><dt>tzical.get(tzid=None)</dt><dd><span class="anchor" id="line-1898"></span>Since a single iCalendar file may contain more than one timezone, <span class="anchor" id="line-1899"></span>you must ask for the timezone you want with this method. If there's <span class="anchor" id="line-1900"></span>more than one timezone in the parsed file, you'll need to pass the <span class="anchor" id="line-1901"></span><p class="line891"><tt>tzid</tt> parameter. Otherwise, leaving it empty will yield the only <span class="anchor" id="line-1902"></span>available timezone. <span class="anchor" id="line-1903"></span><span class="anchor" id="line-1904"></span></p></dd></dl><p class="line867">
</p><h4 id="head-a5b145fe5fe00eb615554a9bfd05e97239fd5bde">tzical examples</h4>
<span class="anchor" id="line-1905"></span><p class="line874">Here is a sample file extracted from the RFC. This file defines <span class="anchor" id="line-1906"></span>the <tt>EST5EDT</tt> timezone, and will be used in the following example. <span class="anchor" id="line-1907"></span><span class="anchor" id="line-1908"></span><span class="anchor" id="line-1909"></span><span class="anchor" id="line-1910"></span><span class="anchor" id="line-1911"></span><span class="anchor" id="line-1912"></span><span class="anchor" id="line-1913"></span><span class="anchor" id="line-1914"></span><span class="anchor" id="line-1915"></span><span class="anchor" id="line-1916"></span><span class="anchor" id="line-1917"></span><span class="anchor" id="line-1918"></span><span class="anchor" id="line-1919"></span><span class="anchor" id="line-1920"></span><span class="anchor" id="line-1921"></span><span class="anchor" id="line-1922"></span><span class="anchor" id="line-1923"></span><span class="anchor" id="line-1924"></span><span class="anchor" id="line-1925"></span><span class="anchor" id="line-1926"></span><span class="anchor" id="line-1927"></span></p><pre>BEGIN:VTIMEZONE
TZID:US-Eastern
LAST-MODIFIED:19870101T000000Z
TZURL:http://zones.stds_r_us.net/tz/US-Eastern
BEGIN:STANDARD
DTSTART:19671029T020000
RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10
TZOFFSETFROM:-0400
TZOFFSETTO:-0500
TZNAME:EST
END:STANDARD
BEGIN:DAYLIGHT
DTSTART:19870405T020000
RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4
TZOFFSETFROM:-0500
TZOFFSETTO:-0400
TZNAME:EDT
END:DAYLIGHT
END:VTIMEZONE</pre><span class="anchor" id="line-1928"></span><span class="anchor" id="line-1929"></span><p class="line862">And here is an example exploring a <tt>tzical</tt> type: <span class="anchor" id="line-1930"></span><span class="anchor" id="line-1931"></span><span class="anchor" id="line-1932"></span><span class="anchor" id="line-1933"></span><span class="anchor" id="line-1934"></span><span class="anchor" id="line-1935"></span><span class="anchor" id="line-1936"></span><span class="anchor" id="line-1937"></span><span class="anchor" id="line-1938"></span><span class="anchor" id="line-1939"></span><span class="anchor" id="line-1940"></span><span class="anchor" id="line-1941"></span><span class="anchor" id="line-1942"></span><span class="anchor" id="line-1943"></span><span class="anchor" id="line-1944"></span><span class="anchor" id="line-1945"></span><span class="anchor" id="line-1946"></span><span class="anchor" id="line-1947"></span></p><pre>&gt;&gt;&gt; from dateutil.tz import *; from datetime import *

&gt;&gt;&gt; tz = tzical('EST5EDT.ics')
&gt;&gt;&gt; tz.keys()
['US-Eastern']

&gt;&gt;&gt; est = tz.get('US-Eastern')
&gt;&gt;&gt; est
&lt;tzicalvtz 'US-Eastern'&gt;

&gt;&gt;&gt; datetime.now(est)
datetime.datetime(2003, 10, 6, 19, 44, 18, 667987,
                  tzinfo=&lt;tzicalvtz 'US-Eastern'&gt;)

&gt;&gt;&gt; est == tz.get()
True</pre><span class="anchor" id="line-1948"></span><span class="anchor" id="line-1949"></span><p class="line874">Let's check the daylight ranges, as usual: <span class="anchor" id="line-1950"></span><span class="anchor" id="line-1951"></span><span class="anchor" id="line-1952"></span><span class="anchor" id="line-1953"></span><span class="anchor" id="line-1954"></span><span class="anchor" id="line-1955"></span><span class="anchor" id="line-1956"></span><span class="anchor" id="line-1957"></span><span class="anchor" id="line-1958"></span><span class="anchor" id="line-1959"></span><span class="anchor" id="line-1960"></span></p><pre>&gt;&gt;&gt; datetime(2003, 4, 6, 1, 59, tzinfo=est).tzname()
'EST'
&gt;&gt;&gt; datetime(2003, 4, 6, 2, 00, tzinfo=est).tzname()
'EDT'

&gt;&gt;&gt; datetime(2003, 10, 26, 0, 59, tzinfo=est).tzname()
'EDT'
&gt;&gt;&gt; datetime(2003, 10, 26, 1, 00, tzinfo=est).tzname()
'EST'</pre><span class="anchor" id="line-1961"></span><span class="anchor" id="line-1962"></span><p class="line867">
</p><h4 id="head-566bbb3e75e621ac00d2cb1b54abc09036b994f1">tzwin type</h4>
<span class="anchor" id="line-1963"></span><p class="line874">This type offers access to internal registry-based Windows timezones. <span class="anchor" id="line-1964"></span>The constuctor prototype is: <span class="anchor" id="line-1965"></span><span class="anchor" id="line-1966"></span><span class="anchor" id="line-1967"></span></p><pre>tzwin(name)</pre><span class="anchor" id="line-1968"></span><span class="anchor" id="line-1969"></span><p class="line862">Where <tt>name</tt> is the timezone name. There's a static <tt>tzwin.list()</tt> <span class="anchor" id="line-1970"></span>method to check the available names, <span class="anchor" id="line-1971"></span><span class="anchor" id="line-1972"></span></p><p class="line867">
</p><h4 id="head-34514e868024a22e23c143de58860a3414d40fd1">tzwin methods</h4>
<span class="anchor" id="line-1973"></span><span class="anchor" id="line-1974"></span><dl><dt>tzwin.display()</dt><dd><span class="anchor" id="line-1975"></span>This method returns the timezone extended name. <span class="anchor" id="line-1976"></span><span class="anchor" id="line-1977"></span></dd><dt>tzwin.list()</dt><dd><span class="anchor" id="line-1978"></span>This static method lists all available timezone names. <span class="anchor" id="line-1979"></span><span class="anchor" id="line-1980"></span></dd></dl><p class="line867">
</p><h4 id="head-86ad81deb327e671eb87f522f16fa426faa27908">tzwin examples</h4>
<span class="anchor" id="line-1981"></span><p class="line867"><span class="anchor" id="line-1982"></span><span class="anchor" id="line-1983"></span></p><pre>&gt;&gt;&gt; tz = tzwin("E. South America Standard Time")</pre><span class="anchor" id="line-1984"></span><span class="anchor" id="line-1985"></span><p class="line867">
</p><h4 id="head-989c2319cb8755b6bf7991ab4e4bc3e32a6f019a">tzwinlocal type</h4>
<span class="anchor" id="line-1986"></span><p class="line874">This type offers access to internal registry-based Windows timezones. <span class="anchor" id="line-1987"></span>The constructor accepts no parameters, so the prototype is: <span class="anchor" id="line-1988"></span><span class="anchor" id="line-1989"></span><span class="anchor" id="line-1990"></span></p><pre>tzwinlocal()</pre><span class="anchor" id="line-1991"></span><span class="anchor" id="line-1992"></span><p class="line867">
</p><h4 id="head-ca9ea503b79d48555861a6aadccee819efdcebf3">tzwinlocal methods</h4>
<span class="anchor" id="line-1993"></span><span class="anchor" id="line-1994"></span><dl><dt>tzwinlocal.display()</dt><dd><span class="anchor" id="line-1995"></span>This method returns the timezone extended name, and returns <span class="anchor" id="line-1996"></span><p class="line891"><tt>None</tt> if one is not available. <span class="anchor" id="line-1997"></span><span class="anchor" id="line-1998"></span></p></dd></dl><p class="line867">
</p><h4 id="head-393b26a3fb12ad903d6769decf94e11b7ec86298">tzwinlocal examples</h4>
<span class="anchor" id="line-1999"></span><p class="line867"><span class="anchor" id="line-2000"></span><span class="anchor" id="line-2001"></span></p><pre>&gt;&gt;&gt; tz = tzwinlocal()</pre><span class="anchor" id="line-2002"></span><span class="anchor" id="line-2003"></span><p class="line867">
</p><h4 id="head-b79630fbbda87af6d6d121737510fd7ea5aeea97">gettz() function</h4>
<span class="anchor" id="line-2004"></span><p class="line874">This function is a helper that will try its best to get the right <span class="anchor" id="line-2005"></span>timezone for your environment, or for the given string. The prototype <span class="anchor" id="line-2006"></span>is as follows: <span class="anchor" id="line-2007"></span><span class="anchor" id="line-2008"></span><span class="anchor" id="line-2009"></span></p><pre>gettz(name=None)</pre><span class="anchor" id="line-2010"></span><span class="anchor" id="line-2011"></span><p class="line874">If given, the parameter may be a filename, a path relative to the base <span class="anchor" id="line-2012"></span>of the timezone information path (the base could be <span class="anchor" id="line-2013"></span><tt>/usr/share/zoneinfo</tt>, for example), a string timezone <span class="anchor" id="line-2014"></span>specification, or a timezone abbreviation. If <tt>name</tt> is not given, <span class="anchor" id="line-2015"></span>and the <tt>TZ</tt> environment variable is set, it's used instead. If the <span class="anchor" id="line-2016"></span>parameter is not given, and <tt>TZ</tt> is not set, the default tzfile <span class="anchor" id="line-2017"></span>paths will be tried. Then, if no timezone information is found, <span class="anchor" id="line-2018"></span>an internal compiled database of timezones is used. When running <span class="anchor" id="line-2019"></span>on Windows, the internal registry-based Windows timezones are also <span class="anchor" id="line-2020"></span>considered. <span class="anchor" id="line-2021"></span><span class="anchor" id="line-2022"></span></p><p class="line874">Example: <span class="anchor" id="line-2023"></span><span class="anchor" id="line-2024"></span><span class="anchor" id="line-2025"></span><span class="anchor" id="line-2026"></span><span class="anchor" id="line-2027"></span><span class="anchor" id="line-2028"></span><span class="anchor" id="line-2029"></span><span class="anchor" id="line-2030"></span><span class="anchor" id="line-2031"></span><span class="anchor" id="line-2032"></span><span class="anchor" id="line-2033"></span><span class="anchor" id="line-2034"></span><span class="anchor" id="line-2035"></span><span class="anchor" id="line-2036"></span><span class="anchor" id="line-2037"></span><span class="anchor" id="line-2038"></span><span class="anchor" id="line-2039"></span><span class="anchor" id="line-2040"></span><span class="anchor" id="line-2041"></span><span class="anchor" id="line-2042"></span><span class="anchor" id="line-2043"></span><span class="anchor" id="line-2044"></span><span class="anchor" id="line-2045"></span><span class="anchor" id="line-2046"></span><span class="anchor" id="line-2047"></span><span class="anchor" id="line-2048"></span><span class="anchor" id="line-2049"></span><span class="anchor" id="line-2050"></span></p><pre>&gt;&gt;&gt; from dateutil.tz import *
&gt;&gt;&gt; gettz()
tzfile('/etc/localtime')

&gt;&gt;&gt; gettz("America/Sao Paulo")
tzfile('/usr/share/zoneinfo/America/Sao_Paulo')

&gt;&gt;&gt; gettz("EST5EDT")
tzfile('/usr/share/zoneinfo/EST5EDT')

&gt;&gt;&gt; gettz("EST5")
tzstr('EST5')

&gt;&gt;&gt; gettz('BRST')
tzlocal()

&gt;&gt;&gt; os.environ["TZ"] = "America/Sao Paulo"
&gt;&gt;&gt; gettz()
tzfile('/usr/share/zoneinfo/America/Sao_Paulo')

&gt;&gt;&gt; os.environ["TZ"] = "BRST"
&gt;&gt;&gt; gettz()
tzlocal()

&gt;&gt;&gt; gettz("Unavailable")
&gt;&gt;&gt; </pre><span class="anchor" id="line-2051"></span><span class="anchor" id="line-2052"></span><p class="line867">
</p><h3 id="head-7b64fa6ed6e02b68e9cb7c3d42d6fb7b4cb133e9">zoneinfo</h3>
<span class="anchor" id="line-2053"></span><p class="line874">This module provides direct access to the internal compiled <span class="anchor" id="line-2054"></span>database of timezones. The timezone data and the compiling tools <span class="anchor" id="line-2055"></span>are obtained from the following project: <span class="anchor" id="line-2056"></span><span class="anchor" id="line-2057"></span></p><ul><li style="list-style-type:none"><p class="line891"><a class="http" href="http://www.twinsun.com/tz/tz-link.htm">http://www.twinsun.com/tz/tz-link.htm</a> <span class="anchor" id="line-2058"></span><span class="anchor" id="line-2059"></span></p></li></ul><p class="line867">
</p><h4 id="head-b79630fbbda87af6d6d121737510fd7ea5aeea97-2">gettz() function</h4>
<span class="anchor" id="line-2060"></span><p class="line874">This function will try to retrieve the given timezone information <span class="anchor" id="line-2061"></span>from the internal compiled database, and will cache its results. <span class="anchor" id="line-2062"></span><span class="anchor" id="line-2063"></span></p><p class="line874">Example: <span class="anchor" id="line-2064"></span><span class="anchor" id="line-2065"></span><span class="anchor" id="line-2066"></span><span class="anchor" id="line-2067"></span><span class="anchor" id="line-2068"></span></p><pre>&gt;&gt;&gt; from dateutil import zoneinfo
&gt;&gt;&gt; zoneinfo.gettz("Brazil/East")
tzfile('Brazil/East')</pre><span class="anchor" id="line-2069"></span><span class="anchor" id="line-2070"></span><p class="line867"></p><hr><p class="line874"> <span class="anchor" id="line-2071"></span><a href="http://labix.org/CategoryProject">CategoryProject</a> <span class="anchor" id="line-2072"></span><span class="anchor" id="line-2073"></span></p><p class="line867"><span class="anchor" id="line-2074"></span><span class="anchor" id="bottom"></span></p></div><p id="pageinfo" class="info" lang="en" dir="ltr">python-dateutil  (last edited 2011-03-24 17:45:39 by <span title="GustavoNiemeyer @ 201-66-179-18.pltce701.dsl.brasiltelecom.net.br[201.66.179.18]"><a class="nonexistent" href="http://labix.org/GustavoNiemeyer" title="GustavoNiemeyer @ 201-66-179-18.pltce701.dsl.brasiltelecom.net.br[201.66.179.18]">GustavoNiemeyer</a></span>)</p>

<div id="pagebottom"></div>
</div>


<div id="footer">
<ul id="credits">
<li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>


<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./python-dateutil - Labix_files/ga.js.download" type="text/javascript"></script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-3731229-3");
pageTracker._initData();
pageTracker._trackPageview();
</script>



</body></html>